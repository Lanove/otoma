!function(){"use strict";var e;function t(e,t){var i=this;i.elem=e;var a=void 0!==t.lang||null!==t.lang?t.lang:$.CalenStyle.defaults.lang,n=$.extend(!0,{},$.AnyPicker.defaults.i18n,$.AnyPicker.i18n[a],t.i18n),o=$.extend(!0,{},$.AnyPicker.defaults);n={i18n:n},o.i18n={},t.i18n={},i.setting=$.extend({},o,t,n),i.tmp=$.extend({},$.AnyPicker.tempDefaults),i.tmp.overlayClass="ap-overlay-"+i.setting.timestamp,i.tmp.overlaySelector="."+i.tmp.overlayClass,i.tmp.sOrientation=i._getDeviceOrientation(),$.CF.isValid(t.headerTitle)&&(i.tmp.headerTitleDefined=!0),$.CF.compareStrings(i.setting.theme,"Android")?($.CF.isValid(t.rowHeight)||(i.setting.rowHeight=50),$.CF.isValid(t.visibleRows)||(i.setting.visibleRows=3)):$.CF.compareStrings(i.setting.theme,"iOS")?($.CF.isValid(t.rowHeight)||(i.setting.rowHeight=36),$.CF.isValid(t.visibleRows)||(i.setting.visibleRows=5),$.CF.isValid(t.viewSections)||($.CF.compareStrings(i.setting.layout,"fixed")?i.setting.viewSections={header:[],contentTop:[],contentBottom:[],footer:["cancelButton","headerTitle","setButton"]}:i.setting.viewSections={header:["cancelButton","headerTitle","setButton"],contentTop:[],contentBottom:[],footer:[]}),$.AnyPicker.extra.bIsiPad&&(i.tmp.bIsiPad=!0),i.tmp.bIsiPad&&$.CF.compareStrings(i.setting.layout,"popup")&&(i.setting.layout="popover")):$.CF.compareStrings(i.setting.theme,"Windows")&&(i.setting.layout="popup",i.setting.visibleRows=5,i.setting.rowHeight=100,$.CF.isValid(t.viewSections)||(i.setting.viewSections={header:["headerTitle"],contentTop:[],contentBottom:[],footer:["setButton","cancelButton"]}),$.CF.isValid(t.setButton)&&(i.tmp.bModified.set=!0),$.CF.isValid(t.cancelButton)&&(i.tmp.bModified.cancel=!0),$.CF.isValid(t.nowButton)&&(i.tmp.bModified.now=!0),$.CF.isValid(t.clearButton)&&(i.tmp.bModified.clear=!0)),i.tmp.iExt=Math.floor(i.setting.visibleRows/2),i.tmp.sDir=i.setting.rtl?"rtl":"ltr",$.AnyPicker.extra.dToday=i._getCurrentDate(),null===i.tmp.selectedDate&&(i.tmp.selectedDate=$.AnyPicker.extra.dToday),0===i.setting.maxYear&&(i.setting.maxYear=$.AnyPicker.extra.dToday.getFullYear()),$.CF.isValid(i.setting.components)&&0===i.tmp.numOfComp&&(i.tmp.numOfComp=i.setting.components.length),$.AnyPicker.extra.sStartEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerDown":"pointerdown":$.AnyPicker.extra.bIsTouchDevice?"touchstart":"mousedown touchstart",$.AnyPicker.extra.sMoveEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerMove":"pointermove":$.AnyPicker.extra.bIsTouchDevice?"touchmove":"mousemove touchmove",$.AnyPicker.extra.sEndEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerUp":"pointerup":$.AnyPicker.extra.bIsTouchDevice?"touchend":"mouseup touchend",$.AnyPicker.extra.sLeaveEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerLeave":"pointerleave":$.AnyPicker.extra.bIsTouchDevice?null:"mouseleave",$.AnyPicker.extra.sCancelEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerCancel":"pointercancel":null,$.AnyPicker.extra.sOutEv=$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bHasIE10Pointer?"MSPointerOut":"pointerout":null}$.CF={setPropertiesStyle:function(e,t){var i=window.getComputedStyle(document.documentElement,"");for(var a in t)if(void 0!==i[t[a]]){var n="";return-1!==t[a].search("Webkit")?n="-webkit-":-1!==t[a].search("Moz")?n="-moz-":-1!==t[a].search("O")?n="-o-":-1!==t[a].search("ms")&&(n="-ms-"),n+e}},testProperties:function(e,t,i){var a=window.getComputedStyle(document.documentElement,"");for(var n in t)if(void 0!==a[t[n]])return!i||t[n];return!!i&&""},compareDataType:function(e,t){return typeof e===t.toLocaleLowerCase()},compareStrings:function(e,t){return null!=e&&null!=t?"string"==typeof e&&"string"==typeof t&&e.toLocaleLowerCase()===t.toLocaleLowerCase():null===e&&null===t||void 0===e&&void 0===t},isValid:function(e){return null!=e&&""!==e}},$.AnyPicker=$.AnyPicker||{name:"AnyPicker",version:"2.0.3",i18n:{},defaults:{mode:"datetime",parent:"body",layout:"popup",hAlign:"left",vAlign:"bottom",relativeTo:null,inputElement:null,inputChangeEvent:"onSet",lang:"",rtl:!1,animationDuration:500,setButton:{markup:"<a id='ap-button-set' class='ap-button'>Set</a>",markupContentWindows:"<span class='ap-button-icon ap-icon-set'></span><span class='ap-button-text'>set</span>",type:"Button"},clearButton:{markup:"<a id='ap-button-clear' class='ap-button'>Clear</a>",markupContentWindows:"<span class='ap-button-icon ap-icon-clear'></span><span class='ap-button-text'>clear</span>",type:"Button"},nowButton:{markup:"<a id='ap-button-now' class='ap-button'>Now</a>",markupContentWindows:"<span class='ap-button-icon ap-icon-now'></span><span class='ap-button-text'>now</span>",type:"Button"},cancelButton:{markup:"<a id='ap-button-cancel' class='ap-button'>Cancel</a>",markupContentWindows:"<span class='ap-button-icon ap-icon-cancel'></span><span class='ap-button-text'>cancel</span>",type:"Button"},headerTitle:{markup:"<span class='ap-header__title'>Select</span>",type:"Text",contentBehaviour:"Static",format:""},viewSections:{header:["headerTitle"],contentTop:[],contentBottom:[],footer:["cancelButton","setButton"]},i18n:{headerTitle:"Select",setButton:"Set",clearButton:"Clear",nowButton:"Now",cancelButton:"Cancel",dateSwitch:"Date",timeSwitch:"Time"},theme:"Default",onInit:null,onBeforeShowPicker:null,onShowPicker:null,onBeforeHidePicker:null,onHidePicker:null,parseInput:null,formatOutput:null,setOutput:null,onSetOutput:null,buttonClicked:null},tempDefaults:{sOrientation:"portrait",overlayClass:"",overlaySelector:"",iExt:2,dir:"ltr",sElemTag:"",oElemValid:{bIsInput:!1,bIsListItem:!1,bIsSelect:!1},sInputElemTag:"",oInputElemValid:{bIsInput:!1,bIsListItem:!1,bIsSelect:!1},prevActive:null,bFirst:!0,sDateTimeTab:"date",iCompDragStart:0,headerTitleDefined:!1,bIsiPad:!1,bModified:{set:!1,cancel:!1,clear:!1,now:!1},tabKey:!1},extra:{sArrModes:["select","datetime"],sArrLayout:["popup","relative","fixed","inline"],sArrHAlign:["left","center","right"],sArrVAlign:["top","middle","bottom"],sArrViewSections:["header","contentTop","contentBottom","footer"],oArrInputChangeEvent:["onChange","onSet"],sArrThemes:["Default","iOS","Android","Windows"],bIsTouchDevice:"ontouchstart"in document.documentElement,sClickHandler:(document.documentElement,"click"),sClickHandlerButtons:"ontouchstart"in document.documentElement?"touchstart":"click",bHasCSS3D:$.CF.testProperties("perspective",["WebkitPerspective","MozPerspective","OPerspective","msPerspective","perspective","perspectiveProperty"],!1),sCSSTransform:$.CF.testProperties("transform",["WebkitTransform","MozTransform","OTransform","msTransform","transform"],!0),sCSSTransformStyle:$.CF.setPropertiesStyle("transform",["WebkitTransform","MozTransform","OTransform","msTransform","transform"]),sCSSTransition:$.CF.testProperties("transition",["WebkitTransition","MozTransition","OTransition","msTransition","transition"],!0),bHasCSSAnimation:$.CF.testProperties("animation",["WebkitAnimation","MozAnimation","OAnimation","msAnimation","animation"],!1),sMouseWheel:"onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],bHasIE10Pointer:window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled,bHasPointer:window.navigator.pointerEnabled||window.navigator.msPointerEnabled,bIsiPad:null!==navigator.userAgent.match(/iPad/i)}},e=function(e){e.fn.AnyPicker=function(i){var a,n,o=e(this).data(),s=Object.keys(o);if(null==i)if(s.length>0){for(a in s)if(-1!==(n=s[a]).search("plugin_AnyPicker_"))return o[n]}else console.log("No AnyPicker Object Defined For This Element");else{if("string"!=typeof i)return this.each(function(){var r=(new Date).getTime();if(e.data(this,"plugin_AnyPicker_"+r))if(s.length>0){for(a in s)if(-1!==(n=s[a]).search("plugin_AnyPicker_"))return o[n]}else console.log("No AnyPicker Object Defined For This Element");else i.timestamp=r,o=new t(this,i),e.data(this,"plugin_AnyPicker_"+r,o),o.init()});if(null!==o||void 0!==o)if(s.length>0){if("destroy"===i)if(s.length>0){for(a in s)if(-1!==(n=s[a]).search("plugin_AnyPicker_")){o=o[n],e(window).off("blur."+o.setting.timestamp);var r=e(o.setting.inputElement);e(r).off("focus."+o.setting.timestamp),e(r).off("blur."+o.setting.timestamp),e(".ap-overlay-"+n.replace("plugin_AnyPicker_","")).remove(),e(this).removeData(n);break}}else console.log("No AnyPicker Object Defined For This Element")}else console.log("No AnyPicker Object Defined For This Element")}}},"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery),t.prototype={init:function(){var e=this;if($.CF.isValid(e.elem)&&(e.tmp.sElemTag=$(e.elem).prop("tagName").toLowerCase(),"input"===e.tmp.sElemTag||"button"===e.tmp.sElemTag?e.tmp.oElemValid.bIsInput=!0:"ul"===e.tmp.sElemTag||"ol"===e.tmp.sElemTag||"dl"===e.tmp.sElemTag?e.tmp.oElemValid.bIsListItem=!0:"select"===e.tmp.sElemTag&&(e.tmp.oElemValid.bIsSelect=!0)),$.CF.isValid(e.setting.inputElement)?(e.tmp.sInputElemTag=$(e.setting.inputElement).prop("tagName").toLowerCase(),"input"===e.tmp.sInputElemTag||"button"===e.tmp.sInputElemTag?e.tmp.oInputElemValid.bIsInput=!0:"ul"===e.tmp.sInputElemTag||"ol"===e.tmp.sInputElemTag||"dl"===e.tmp.sInputElemTag?e.tmp.oInputElemValid.bIsListItem=!0:"select"===e.tmp.sInputElemTag&&(e.tmp.oInputElemValid.bIsSelect=!0)):$.CF.isValid(e.elem)&&(e.setting.inputElement=e.elem,e.tmp.sInputElemTag=e.tmp.sElemTag,e.tmp.oInputElemValid=e.tmp.oElemValid),$.CF.compareStrings(e.setting.mode,"select")?e.__setComponentsOfSelect():$.CF.compareStrings(e.setting.mode,"datetime")&&e.__setComponentsOfDateTimePicker(),""!==e.tmp.sInputElemTag&&!e.tmp.oInputElemValid.bIsListItem&&!e.tmp.oInputElemValid.bIsSelect){var t=$(e.setting.inputElement);e.tmp.oInputElemValid.bIsInput?(t.off("focus."+e.setting.timestamp),t.on("focus."+e.setting.timestamp,{apo:e},e._inputElementClicked),t.on("blur."+e.setting.timestamp,function(t){$.AnyPicker.tempDefaults.tabKey&&e.showOrHidePicker(),e.tmp.prevActive=null}),t.on("keydown."+e.setting.timestamp,function(e){"9"===(e.keyCode?e.keyCode:e.which)&&($.AnyPicker.tempDefaults.tabKey=!0)})):(t.off("click."+e.setting.timestamp),t.on("click."+e.setting.timestamp,{apo:e},e._inputElementClicked))}$.CF.isValid(e.setting.onInit)&&e.setting.onInit.call(e)},_inputElementClicked:function(e){e.stopPropagation(),e.preventDefault();var t=e.data.apo;if(document.activeElement!==t.tmp.prevActive||document.activeElement!==t.setting.inputElement)if(t.tmp.prevActive=document.activeElement,""===t.tmp.sInputElemTag||t.tmp.oInputElemValid.bIsListItem||t.tmp.oInputElemValid.bIsSelect)console.log("No InputElement Specified");else{var i,a=$(t.setting.inputElement);if(t.tmp.oInputElemValid.bIsInput)i=a.val();else{var n=a.attr("data-val");i=$.CF.isValid(n)?n:a.text()}$.AnyPicker.tempDefaults.tabKey?($.AnyPicker.tempDefaults.tabKey=!1,setTimeout(function(){t.showOrHidePicker(i)},500)):t.showOrHidePicker(i)}},showOrHidePicker:function(e){var t,i,a,n=this,o=[],s=[];if(null!=e)if($.CF.isValid(n.setting.parseInput)){if($.CF.compareStrings(n.setting.mode,"datetime"))n.setting.selectedDate=n.setting.parseInput.call(n,e);else if($.CF.compareStrings(n.setting.mode,"select")){for(o=n.setting.parseInput.call(n,e),t=0;t<o.length;t++)i=o[t],a=n.__getDataSourceValueFromLabel(i,t,!0),s.push({component:t,val:a,label:i});n.tmp.selectedValues.values=s}}else if($.CF.compareStrings(n.setting.mode,"datetime"))n.setting.selectedDate=e;else if($.CF.compareStrings(n.setting.mode,"select")){if(""!==e)for(o=[],s=[],n.tmp.numOfComp>1?o=e.split(" "):o.push(e),t=0;t<o.length;t++)i=o[t],a=n.__getDataSourceValueFromLabel(i,t,!0),s.push({component:t,val:a,label:i});else for(t=0;t<n.tmp.numOfComp;t++){var r=n.setting.dataSource[t].data;i=r[0].label,a=r[0].val,s.push({component:t,val:a,label:i})}n.tmp.selectedValues.values=s}$(n.tmp.overlaySelector).length>0?n._hidePicker():$.CF.isValid(n.setting.onBeforeShowPicker)?n.setting.onBeforeShowPicker.call(n)&&n._showPicker():n._showPicker()},_showPicker:function(){var e=this;e.tmp.sOrientation=e._getDeviceOrientation();var t="",i=($.CF.compareStrings(e.setting.layout,"popup")||$.CF.compareStrings(e.setting.layout,"popover"))&&e.setting.viewSections.header.length>0,a=($.CF.compareStrings(e.setting.layout,"popup")||$.CF.compareStrings(e.setting.layout,"popover"))&&e.setting.viewSections.footer.length>0,n=$.CF.compareStrings(e.setting.layout,"fixed")&&$.CF.compareStrings(e.setting.vAlign,"bottom")&&e.setting.viewSections.footer.length>0,o=$.CF.compareStrings(e.setting.layout,"fixed")&&$.CF.compareStrings(e.setting.vAlign,"top")&&e.setting.viewSections.footer.length>0,s=$.CF.compareStrings(e.setting.mode,"datetime")&&"datetime"===e.tmp.sDateTimeMode,r="ap-layout-"+e.setting.layout,l="ap-theme-"+e.setting.theme.toLowerCase(),m="ap-dir-"+e.tmp.sDir;if($.CF.compareStrings(e.setting.layout,"popover")){var p=$("body").scrollTop(),c=p,d=p+$(window).height(),g=$.CF.compareStrings(e.setting.rowsNavigation,"scroller")?300:350,u=!($(e.setting.inputElement).offset().top-g<c),f=!($(e.setting.inputElement).offset().top+$(e.setting.inputElement).height()+g>d);e.tmp.sTooltip=f?"bottom":u?"top":e.setting.rtl?"right":"left"}t+="<div class='ap-overlay "+r+" "+e.tmp.overlayClass+" "+l+" "+m+"'>",t+="<div class='ap-bg'>",t+="<div class='ap-cont' dir='"+e.tmp.sDir+"'>",$.CF.isValid(e.tmp.sTooltip)&&(t+="<span class='ap-tooltip ap-tooltip-"+e.tmp.sTooltip+"'></span>"),i&&(t+="<div class='ap-header'>",s&&$.CF.compareStrings(e.setting.theme,"Windows")&&(t+="<div class='ap-content-switch'>",e.setting.rtl?(t+="<span class='ap-content-switch-tab ap-content-switch-time'>"+e.setting.i18n.timeSwitch+"</span>",t+="<span class='ap-content-switch-tab ap-content-switch-date ap-content-switch-selected'>"+e.setting.i18n.dateSwitch+"</span>"):(t+="<span class='ap-content-switch-tab ap-content-switch-date ap-content-switch-selected'>"+e.setting.i18n.dateSwitch+"</span>",t+="<span class='ap-content-switch-tab ap-content-switch-time'>"+e.setting.i18n.timeSwitch+"</span>"),t+="</div>",e.tmp.sDateTimeTab="time"),t+="</div>"),n&&(t+="<div class='ap-footer ap-footer-top'>",$.CF.compareStrings(e.setting.theme,"Default")&&(t+="<div class='ap-button-cont'></div>"),t+="</div>"),t+="<div class='ap-content'>",e.setting.viewSections.contentTop.length>0&&(t+="<div class='ap-content-top'></div>"),s&&!$.CF.compareStrings(e.setting.theme,"Windows")&&(t+="<div class='ap-content-switch'>",e.setting.rtl?(t+="<span class='ap-content-switch-tab ap-content-switch-time'>"+e.setting.i18n.timeSwitch+"</span>",t+="<span class='ap-content-switch-tab ap-content-switch-date ap-content-switch-selected'>"+e.setting.i18n.dateSwitch+"</span>"):(t+="<span class='ap-content-switch-tab ap-content-switch-date ap-content-switch-selected'>"+e.setting.i18n.dateSwitch+"</span>",t+="<span class='ap-content-switch-tab ap-content-switch-time'>"+e.setting.i18n.timeSwitch+"</span>"),t+="</div>",e.tmp.sDateTimeTab="date"),t+="<div class='ap-content-middle'>",t+="<div class='ap-component-section'></div>",t+="</div>",e.setting.viewSections.contentBottom.length>0&&(t+="<div class='ap-content-bottom'></div>"),t+="</div>",(a||o)&&(t+="<div class='ap-footer ap-footer-bottom'>",$.CF.compareStrings(e.setting.theme,"Default")&&(t+="<div class='ap-button-cont'></div>"),t+="</div>"),t+="</div>",t+="</div>",t+="</div>",$(e.setting.parent).append(t),"popover"===e.setting.layout&&$("body").addClass("noscroll"),$.AnyPicker.extra.bHasCSSAnimation?($(e.tmp.overlaySelector).addClass("ap-show"),$(e.tmp.overlaySelector).css({display:"block"}),$.CF.compareStrings(e.setting.layout,"fixed")&&($.CF.compareStrings(e.setting.vAlign,"top")?$(e.tmp.overlaySelector).find(".ap-cont").addClass("ap-top-slide-down"):$.CF.compareStrings(e.setting.vAlign,"bottom")&&$(e.tmp.overlaySelector).find(".ap-cont").addClass("ap-bottom-slide-up")),setTimeout(function(){$(e.tmp.overlaySelector).css({opacity:1}),$(e.tmp.overlaySelector).removeClass("ap-show"),$.CF.compareStrings(e.setting.layout,"fixed")&&($.CF.compareStrings(e.setting.vAlign,"top")?($(e.tmp.overlaySelector).find(".ap-cont").removeClass("ap-top-slide-down"),$(e.tmp.overlaySelector+" .ap-cont").css({top:0})):$.CF.compareStrings(e.setting.vAlign,"bottom")&&($(e.tmp.overlaySelector).find(".ap-cont").removeClass("ap-bottom-slide-up"),$(e.tmp.overlaySelector+" .ap-cont").css({bottom:0})))},e.setting.animationDuration)):$(e.tmp.overlaySelector).show(0),$.CF.isValid(e.setting.onShowPicker)&&e.setting.onShowPicker.call(e),e._adjustPicker(),e._addViewSectionComponents(),e.__initComponents(),e._adjustPicker(),e.tmp.bIsManualDraggingAfterShow=!1,$.CF.compareStrings(e.setting.mode,"datetime")&&"datetime"===e.tmp.sDateTimeMode&&e._setDateTimeTabs(e.tmp.sDateTimeTab)},_hidePicker:function(){var e=this;$(e.tmp.overlaySelector).length>0&&($.CF.isValid(e.setting.onBeforeHidePicker)&&e.setting.onBeforeHidePicker.call(e),$.AnyPicker.extra.bHasCSSAnimation?($(e.tmp.overlaySelector).addClass("ap-hide"),$.CF.compareStrings(e.setting.layout,"fixed")&&($.CF.compareStrings(e.setting.vAlign,"top")?$(e.tmp.overlaySelector).find(".ap-cont").addClass("ap-top-slide-up"):$.CF.compareStrings(e.setting.vAlign,"bottom")&&$(e.tmp.overlaySelector).find(".ap-cont").addClass("ap-bottom-slide-down")),setTimeout(function(){$(e.tmp.overlaySelector).remove()},e.setting.animationDuration)):($(e.tmp.overlaySelector).hide(0),setTimeout(function(){$(e.tmp.overlaySelector).remove()},e.setting.animationDuration)),"popover"===e.setting.layout&&$("body").removeClass("noscroll"),e.tmp.prevActive=null,$.CF.isValid(e.setting.onHidePicker)&&e.setting.onHidePicker.call(e))},_adjustPicker:function(e){var t=this;if($.CF.compareStrings(t.setting.theme,"Windows")){e=$.CF.isValid(e)?parseInt(e):t.tmp.numOfComp;var i,a=$(window).height(),n=$(window).width(),o="portrait"===t._getDeviceOrientation(),s=10;t.setting.visibleRows=o?5:3,t.setting.componentsCoverFullWidth||(o?s=(n-(i=(l=Math.floor(n/3))*e))/2:(s=(n-(i=a>(i=(l=Math.floor(a/3))*e)?i:a))/2,n=a),$(t.tmp.overlaySelector).find(".ap-content-middle").css({"padding-left":s,"padding-right":s})),n-=16;var r=Math.floor(a/t.setting.visibleRows),l=Math.floor(n/3);t.setting.componentsCoverFullWidth?(r=Math.floor(a/t.setting.visibleRows),t.setting.rowHeight=r):t.setting.rowHeight=l;var m,p,c=(a-t.setting.rowHeight*t.setting.visibleRows)/2;$(t.tmp.overlaySelector).find(".ap-content").css({top:c}),c+=2,m=$(t.tmp.overlaySelector).find(".ap-header").height()-c,$(t.tmp.overlaySelector).find(".ap-content-top").css({top:m}),c-=2,p=$(t.tmp.overlaySelector).find(".ap-footer").height()+c,$(t.tmp.overlaySelector).find(".ap-content-bottom").css({bottom:p}),t.tmp.iExt=Math.floor(t.setting.visibleRows/2)}var d=$(null===t.setting.relativeTo?t.setting.inputElement:t.setting.relativeTo),g=d.offset().top,u=d.offset().left,f=d.outerWidth();if($.CF.compareStrings(t.setting.layout,"popover")){var h,D,S=$("body").scrollTop(),v=($(window).outerWidth(),S),y=($(window).outerHeight(),$(t.setting.inputElement).offset().top-S),T=$(t.setting.inputElement).outerHeight(),C=y+T,b=$(t.setting.inputElement).offset().left,w=$(t.setting.inputElement).outerWidth(),F=b+w,M=$(t.tmp.overlaySelector).find(".ap-cont").outerWidth(),_=$(t.tmp.overlaySelector).find(".ap-cont").outerHeight();"top"===t.tmp.sTooltip?((h=y-_-10)<0?5:h,D=b+5):"bottom"===t.tmp.sTooltip?(h=C+10,D=b+5,"rtl"===t.tmp.sDir&&(D=F-M)):"left"===t.tmp.sTooltip?(h=(h=y-(_/2-T/2))<v?5:h,D=b+w+5):"right"===t.tmp.sTooltip&&(h=(h=y-(_/2-T/2))<v?5:h,D=b-(M+10)),$(t.tmp.overlaySelector).find(".ap-cont").css({position:"absolute",left:D,top:h})}else if($.CF.compareStrings(t.setting.layout,"inline"))$(t.tmp.overlaySelector).find(".ap-cont").css({position:"absolute",width:f,left:u,top:g});else if($.CF.compareStrings(t.setting.layout,"relative")){d=$(null===t.setting.relativeTo?t.setting.inputElement:t.setting.relativeTo);var V=$(document).outerWidth(),A=$(".ap-cont").outerWidth(),x=f;f=x>A?A:x,g+=d.outerHeight(),$.CF.compareStrings(t.setting.hAlign,"center")?u=x>f?u+f/2:x===f?u:u-f/2:$.CF.compareStrings(t.setting.hAlign,"right")&&(u-=f);var P=(u=u<0?5:u)+f;P>V&&(f=u>5?(P=(u=(u-=P-(V+5))<0?5:u)+f)>V?V-10:f:V-10),$(t.tmp.overlaySelector).find(".ap-cont").css({position:"absolute","min-width":f,left:u,top:g})}else $.CF.compareStrings(t.setting.layout,"fixed")&&($.CF.compareStrings(t.setting.vAlign,"top")?$(t.tmp.overlaySelector+" .ap-cont").css({top:-1e3}):$.CF.compareStrings(t.setting.vAlign,"bottom")&&$(t.tmp.overlaySelector+" .ap-cont").css({bottom:-1e3}))},_addViewSectionComponents:function(){var e,t,i=this,a=$.CF.compareStrings(i.setting.theme,"Windows");for(e=0;e<$.AnyPicker.extra.sArrViewSections.length;e++){var n=$.AnyPicker.extra.sArrViewSections[e],o=i.setting.viewSections[n];if(o.length>0)for(t=0;t<o.length;t++){var s=o[t],r=i.setting[s]||null,l=$(r.markup);if(a&&$.CF.isValid(r.markupContentWindows)&&l.html(r.markupContentWindows),null!=r&&""!==r){if($.CF.compareStrings(n,"header"))$(i.tmp.overlaySelector).find(".ap-header").append(l),$.CF.compareStrings(r.type,"Button")&&$.CF.compareDataType(r.action,"function")&&l.on("click."+i.setting.timestamp,{apo:i},r.action);else if($.CF.compareStrings(n,"contentTop"))$(i.tmp.overlaySelector).find(".ap-content-top").append(l),$.CF.compareStrings(r.type,"Button")&&$.CF.compareDataType(r.action,"function")&&l.on("click."+i.setting.timestamp,{apo:i},r.action);else if($.CF.compareStrings(n,"contentBottom"))$(i.tmp.overlaySelector).find(".ap-content-bottom").append(l),$.CF.compareStrings(r.type,"Button")&&$.CF.compareDataType(r.action,"function")&&l.on("click."+i.setting.timestamp,{apo:i},r.action);else if($.CF.compareStrings(n,"footer")){var m=$(i.tmp.overlaySelector).find(".ap-button-cont");m.length>0?m.append(l):$(i.tmp.overlaySelector).find(".ap-footer").append(l),$.CF.compareStrings(r.type,"Button")&&$.CF.compareDataType(r.action,"function")&&l.on("click."+i.setting.timestamp,{apo:i},r.action)}$.CF.compareStrings(s,"headerTitle")&&$.CF.compareStrings(r.contentBehaviour,"Static")&&$(i.tmp.overlaySelector).find(".ap-header__title").text(i.setting.i18n.headerTitle),$.CF.compareStrings(s,"setButton")?!a||a&&i.tmp.bModified.set?l.text(i.setting.i18n.setButton):a&&!i.tmp.bModified.set&&l.find(".ap-button-text").text(i.setting.i18n.setButton):$.CF.compareStrings(s,"clearButton")?!a||a&&i.tmp.bModified.clear?l.text(i.setting.i18n.clearButton):a&&!i.tmp.bModified.clear&&l.find(".ap-button-text").text(i.setting.i18n.clearButton):$.CF.compareStrings(s,"nowButton")?!a||a&&i.tmp.bModified.now?l.text(i.setting.i18n.nowButton):a&&!i.tmp.bModified.now&&l.find(".ap-button-text").text(i.setting.i18n.nowButton):$.CF.compareStrings(s,"cancelButton")&&(!a||a&&i.tmp.bModified.cancel?l.text(i.setting.i18n.cancelButton):a&&!i.tmp.bModified.cancel&&l.find(".ap-button-text").text(i.setting.i18n.cancelButton)),$.CF.compareStrings(r.type,"Button")&&($.CF.compareDataType(r.action,"function")||($.CF.compareStrings(s,"setButton")?l.on("click."+i.setting.timestamp,{apo:i},i._setButtonAction):$.CF.compareStrings(s,"clearButton")?l.on("click."+i.setting.timestamp,{apo:i},i._clearButtonAction):$.CF.compareStrings(s,"nowButton")?l.on("click."+i.setting.timestamp,{apo:i},i._nowButtonAction):$.CF.compareStrings(s,"cancelButton")&&l.on("click."+i.setting.timestamp,{apo:i},i._cancelButtonAction)))}}}a&&$(".ap-button-icon, .ap-button-text").click(function(e){$(this).closest(".ap-button").trigger("click")}),$(i.tmp.overlaySelector).find(".ap-button").on("mousedown touchstart",function(e){$(this).addClass("ap-button-active")}).on("mouseup touchend",function(e){$(this).removeClass("ap-button-active")}),$(window).on("blur."+i.setting.timestamp,function(e){i.tmp.prevActive=document.activeElement}),$(i.tmp.overlaySelector).off("click."+i.setting.timestamp),setTimeout(function(){$(i.tmp.overlaySelector).on("click."+i.setting.timestamp,function(e){var t=Date.now()-i.tmp.iCompDragStart;!i.setting.bIsTouched&&t>1e3&&i._hidePicker()})},300),$(i.tmp.overlaySelector).find(".ap-cont, .ap-cont *").on("click."+i.setting.timestamp,function(e){e.stopPropagation()}),$(i.tmp.overlaySelector).find(".ap-content-switch-date").click(function(e){e.stopPropagation(),i._setDateTimeTabs("date")}),$(i.tmp.overlaySelector).find(".ap-content-switch-time").click(function(e){e.stopPropagation(),i._setDateTimeTabs("time")}),$(window).resize(function(){i._adjustOnOrientationChange()})},_setDateTimeTabs:function(e){var t="date"===e?"time":"date";this.tmp.sDateTimeTab=e,$(this.tmp.overlaySelector).find(".ap-content-switch-tab").removeClass("ap-content-switch-selected"),$(this.tmp.overlaySelector).find(".ap-content-switch-"+e).addClass("ap-content-switch-selected");var i=$(this.tmp.overlaySelector).find("[data-type='"+t+"']"),a=$(this.tmp.overlaySelector).find("[data-type='"+e+"']");i.css("display","none"),a.css("display","table-cell"),$.CF.compareStrings(this.setting.theme,"Windows")&&this._adjustPicker(a.length)},_setOutput:function(){var e,t,i=this,a="";if($.CF.isValid(i.setting.formatOutput))a=i.setting.formatOutput.call(i,i.tmp.selectedValues,i.tmp.bIsManualDraggingAfterShow);else if($.CF.compareStrings(i.setting.mode,"select"))for(var n=0;n<i.tmp.numOfComp;n++)0!==n&&(a+=" "),a+=i.tmp.selectedValues.values[n].label;else $.CF.compareStrings(i.setting.mode,"datetime")&&(a=i.formatOutputDates(i.tmp.selectedValues.date,i.tmp.bIsManualDraggingAfterShow));(i.tmp.oElemValid.bIsListItem||i.tmp.oElemValid.bIsSelect)&&(i.tmp.oElemValid.bIsListItem?e="li":i.tmp.oElemValid.bIsSelect&&(e="option"),$(i.elem).find(e).each(function(){var e=(t=$(this)).attr("value")||t.data("value")||t.text();i.tmp.selectedValues.values[0].val===e?i.tmp.oElemValid.bIsSelect?t.attr("selected",!0):i.tmp.oElemValid.bIsListItem&&t.attr("data-selected",!0):i.tmp.oElemValid.bIsSelect?t.attr("selected",!1):i.tmp.oElemValid.bIsListItem&&t.attr("data-selected",!1)}));if($.CF.isValid(i.setting.setOutput))i.setting.setOutput.call(i,a,i.tmp.selectedValues,i.tmp.bIsManualDraggingAfterShow);else{if(null!==i.setting.inputElement){var o=$(i.setting.inputElement);i.tmp.oInputElemValid.bIsInput?o.val(a):o.text(a)}$.CF.isValid(i.setting.onSetOutput)&&i.setting.onSetOutput.call(i,a,i.tmp.selectedValues,i.tmp.bIsManualDraggingAfterShow)}},_clearOutput:function(){var e=$(this.setting.inputElement);this.tmp.oInputElemValid.bIsInput?e.val(""):e.text("")},_setButtonAction:function(e){var t=e.data.apo;t._setOutput(),t.showOrHidePicker(),$.CF.isValid(t.setting.buttonClicked)&&t.setting.buttonClicked.call(t,"set")},_clearButtonAction:function(e){var t=e.data.apo;if(t.tmp.selectedDate=$.AnyPicker.extra.dToday,""!==t.tmp.sInputElemTag&&!t.tmp.oInputElemValid.bIsListItem&&!t.tmp.oInputElemValid.bIsSelect){var i=$(t.setting.inputElement);t.tmp.oInputElemValid.bIsInput?i.val(""):i.text("")}t.showOrHidePicker(),$.CF.isValid(t.setting.buttonClicked)&&t.setting.buttonClicked.call(t,"clear")},_nowButtonAction:function(e){var t=e.data.apo;$.CF.compareStrings(t.setting.mode,"datetime")&&(t.tmp.selectedDate=t._getCurrentDate(),t._setSelectedAndInvalidValuesForRows()),$.CF.isValid(t.setting.buttonClicked)&&t.setting.buttonClicked.call(t,"now")},_cancelButtonAction:function(e){var t=e.data.apo;t.showOrHidePicker(),$.CF.isValid(t.setting.buttonClicked)&&t.setting.buttonClicked.call(t,"cancel")},_getDeviceOrientation:function(){var e=$(window);return e.width()>e.height()?"landscape":"portrait"},_adjustOnOrientationChange:function(){var e=this._getDeviceOrientation();e!==this.tmp.sOrientation&&($("body").prepend("<div class='ap-loading'>Loading</div>"),this.tmp.sOrientation=e,this._adjustPicker(),this.reloadAllComponents())}},$.AnyPicker=$.extend(!0,$.AnyPicker,{defaults:{components:null,dataSource:null,showComponentLabel:!1,componentsCoverFullWidth:!1,visibleRows:3,maxRows:0,rowHeight:50,rowsNavigation:"scroller",rowView:null,onChange:null},tempDefaults:{numOfComp:0,selectedValues:{},bIsManualDraggingAfterShow:!0,bIsManualDragging:!1,bIsTouched:!1,iTS:0,iPos:0,iPosPrev:0,iPosStop:0,iOffset:0,iOffsetPrev:0,iVelocity:0,iAmplitude:0,oVelocityTicker:null,oScrollTicker:null,iMinTopPos:0,iMaxTopPos:0,oScrollingComp:null,iScrollingComp:-1,iTmConst:100,bEnd:!1},extra:{sArrRowsNavigation:["scroller+buttons","scroller","buttons"]}}),t.prototype=$.extend(t.prototype,{__initComponents:function(){var e=this;e.tmp.bFirst?e.tmp.bFirst=!1:$.CF.compareStrings(e.setting.mode,"select")?e.__setComponentsOfSelect():$.CF.compareStrings(e.setting.mode,"datetime")&&e.__setComponentsOfDateTimePicker(),(e.tmp.numOfComp||e.setting.components.length)>0&&(e.setting.components.length>0?e.reloadAllComponents():console.log("For apo.setting.mode \n 1. Select - \n Please set apo.setting.components 2. DateTime - \n Please enter a valid outputDateTimeFormat "))},reloadAllComponents:function(){var e;for($(this.setting.parent).find(".ap-component-section").html(""),$("body").prepend("<div class='ap-loading'></div>"),e=0;e<this.tmp.numOfComp;e++)this.reloadComponent(e,!1);this.adjustComponents(),this.setSelectedAndInvalidValuesForRows(!0)},reloadComponent:function(e,t){var i,a=this,n="",o=a.setting.dataSource[e].data,s=!1,r="ap-component-"+e,l=$(a.setting.parent).find("#"+r),m=a.setting.components[e],p=$.CF.isValid(m.type)?m.type:m.label,c=$.CF.isValid(m.width)?"width: "+m.width:"",d=a.setting.rtl?$.CF.compareStrings(m.textAlign,"left")?"right":$.CF.compareStrings(m.textAlign,"right")?"left":"":m.textAlign,g=$.CF.isValid(d)?"text-align: "+d:"";for(0===l.length&&(n+="<div class='ap-component' id='"+r+"' data-type='"+p+"' "+(""!==c?"style='"+c+";'":"")+">"),$.CF.compareStrings(a.setting.theme,"Windows")||a.setting.showComponentLabel&&(n+="<div class='ap-component-label' "+(""!==g?"style='"+g+";'":"")+">"+m.label+"</div>"),($.CF.compareStrings(a.setting.rowsNavigation,"scroller+buttons")||$.CF.compareStrings(a.setting.rowsNavigation,"buttons"))&&(n+="<div class='ap-component-plus ap-icon-arrow-up-filled' "+(""!==g?"style='"+g+";'":"")+"></div>"),n+="<div class='ap-component-cont' tabindex='0'>",n+="<div class='ap-component-data' role='listbox' aria-label='"+m.label+"'>",i=0;i<a.tmp.iExt;i++)n+="<div class='ap-row ap-row-ext'></div>";for(i=0;i<o.length;i++)n+="<div class='ap-row "+((s=!!$.CF.isValid(o[i].selected)&&o[i].selected)?"ap-row-selected":"")+"' id='ap-row-"+e+"-"+i+"' data-value='"+o[i].val+"' data-label='"+o[i].label+"' role='option' aria-selected='"+s+"' "+(""!==g?"style='"+g+";'":"")+">",$.CF.compareStrings(a.setting.theme,"Windows")&&(n+="<div class='ap-row-bg'>",$.CF.isValid(a.setting.rowView)||(n+="<div class='ap-row-content'>")),$.CF.isValid(a.setting.rowView)?n+=a.setting.rowView.call(a,e,i,o[i]):n+=o[i].label,$.CF.compareStrings(a.setting.theme,"Windows")&&!$.CF.isValid(a.setting.rowView)&&(n+="</div>",n+="<div class='ap-row-label'>",a.setting.showComponentLabel&&(n+=m.label),n+="</div>"),$.CF.compareStrings(a.setting.theme,"Windows")&&(n+="</div>"),n+="</div>";for(i=0;i<a.tmp.iExt;i++)n+="<div class='ap-row ap-row-ext'></div>";n+="</div>",n+="<div class='ap-component-gradient'></div>",n+="<div class='ap-component-selector' id='ap-component-selector-"+e+"'></div>",n+="</div>",($.CF.compareStrings(a.setting.rowsNavigation,"scroller+buttons")||$.CF.compareStrings(a.setting.rowsNavigation,"buttons"))&&(n+="<div class='ap-component-minus ap-icon-arrow-down-filled' "+(""!==g?"style='"+g+";'":"")+"></div>"),0===l.length&&(n+="</div>"),l.length>0?l.html(n):$(a.setting.parent).find(".ap-component-section").append(n),a._bindEventsToComponent(e),(l.length>0||t)&&a.adjustComponents(),t&&a.setSelectedAndInvalidValuesForRows(!0)},_bindEventsToComponent:function(e){var t=this,i=$("#ap-component-"+e),a=i.find(".ap-component-cont"),n={component:e,apo:t};if(($.CF.compareStrings(t.setting.rowsNavigation,"scroller+buttons")||$.CF.compareStrings(t.setting.rowsNavigation,"scroller"))&&(a.on($.AnyPicker.extra.sStartEv+"."+t.setting.timestamp,n,t._onStartDrag),a.on($.AnyPicker.extra.sMoveEv+"."+t.setting.timestamp,n,t._onDrag),$.CF.isValid($.AnyPicker.extra.sEndEv)&&a.on($.AnyPicker.extra.sEndEv+"."+t.setting.timestamp,n,t._onEndDrag),$.CF.isValid($.AnyPicker.extra.sOutEv)&&a.on($.AnyPicker.extra.sOutEv+"."+t.setting.timestamp,n,t._onEndDrag),$.AnyPicker.extra.sMouseWheel.length>0))for(var o=0;o<$.AnyPicker.extra.sMouseWheel.length;o++)a.on($.AnyPicker.extra.sMouseWheel[o]+"."+t.setting.timestamp,n,t._onMouseWheelScroll);($.CF.compareStrings(t.setting.rowsNavigation,"scroller+buttons")||$.CF.compareStrings(t.setting.rowsNavigation,"buttons"))&&(i.find(".ap-component-plus").on("click."+t.setting.timestamp,n,t._onClickButtonMinus),i.find(".ap-component-minus").on("click."+t.setting.timestamp,n,t._onClickButtonPlus)),a.on("keydown."+t.setting.timestamp,n,t._onKeyDown),a.on("keyup."+t.setting.timestamp,n,t._onKeyUp)},adjustComponents:function(){var e=this,t=$(e.tmp.overlaySelector);if(t.find(".ap-component-cont").css({height:e.setting.rowHeight*e.setting.visibleRows}),t.find(".ap-row, .ap-component-selector").css({height:e.setting.rowHeight,"line-height":e.setting.rowHeight+"px"}),t.find(".ap-row-bg").css({height:e.setting.rowHeight-8}),!$.CF.compareStrings(e.setting.theme,"Windows")){var i=$(".ap-cont").width(),a=$(".ap-cont").height(),n=$(window).width(),o=$(window).height(),s=n,r=o,l=!1,m=!1;if(i>n&&(l=!0,s=i+20),a>o&&(m=!0,r=a+20),(l||m)&&(t.css({position:"absolute",height:r,width:s}),$.CF.compareStrings(e.setting.layout,"fixed")&&$(".ap-cont").css({position:"absolute"})),$.CF.compareStrings(e.setting.layout,"relative")){var p=$(null===e.setting.relativeTo?e.setting.inputElement:e.setting.relativeTo),c=t.find(".ap-cont"),d=p.offset().top+c.height();$.CF.compareStrings(e.setting.vAlign,"top")&&c.css({top:d})}}setTimeout(function(){$(".ap-loading").remove()},0)},_onStartDrag:function(e){var t=e.data.apo;if(t.tmp.bIsManualDragging||(t.tmp.bIsManualDraggingAfterShow=!0,t.tmp.bIsManualDragging=!0),t.tmp.bIsTouched=!0,t.tmp.bEnd=!1,t.tmp.iPos=t._getTouchPosition(e),t.tmp.bFromTouchStart=!0,t._setScrollingData(e),$.CF.compareStrings(t.setting.theme,"Windows")){var i=$(t.tmp.overlaySelector).find("#ap-component-"+t.tmp.iScrollingComp);t.tmp.bIsManualDragging&&($(t.tmp.overlaySelector).find(".ap-component").removeClass("ap-component-modifying"),i.addClass("ap-component-modifying"))}return"mousedown"===e.type&&($(document).on("mousemove."+t.setting.timestamp,e.data,t._onDrag),$(document).on("mouseup."+t.setting.timestamp,e.data,t._onEndDrag)),e.preventDefault(),e.stopPropagation(),!1},_onDrag:function(e){var t,i,a,n,o,s,r=e.data.apo,l=Date.now();if(r._clearScrollTicker(),r.tmp.bIsTouched&&(!$.AnyPicker.extra.bHasPointer||$.AnyPicker.extra.bHasPointer&&(r.tmp.bFromTouchStart||!r.tmp.bFromTouchStart&&l-r.tmp.iTS>1e3))&&(t=r._getTouchPosition(e),l=Date.now(),o=(i=r.tmp.iPos-t)/Math.abs(i),i>2||i<-2)){if($.CF.compareStrings(r.setting.theme,"Windows")){var m=$(r.tmp.overlaySelector).find("#ap-component-"+r.tmp.iScrollingComp).find(".ap-row");m.attr("aria-selected","false"),m.removeClass("ap-row-selected")}r.tmp.iPosPrev=r.tmp.iPos,r.tmp.iPos=t,a=l-r.tmp.iTS,r.tmp.iTS=l,n=i/a,r.tmp.iTotalDS+=i,s=r.tmp.iPrevDSTS-n,$.AnyPicker.extra.bHasPointer?$.AnyPicker.extra.bIsTouchDevice?i>10||i<-10?$.CF.compareStrings(r.setting.theme,"iOS")?i=4*r.setting.visibleRows*n:Math.abs(r.tmp.iTotalDS)>100?i=n>.05?$.CF.compareStrings(r.setting.theme,"Windows")?i*a*5:i*a*2:1===o?o*r.setting.rowHeight/2:o*r.setting.rowHeight/1.2:n>.06&&Math.abs(s)>.08?i=$.CF.compareStrings(r.setting.theme,"Windows")?i*a*5:i*a*2:(i>50||i<-50)&&(i=$.CF.compareStrings(r.setting.theme,"Windows")?i*a*5:i*a*2):i=Math.abs(n)>.06&&Math.abs(s)>.08?$.CF.compareStrings(r.setting.theme,"Windows")?i*a*5:i*a*2:1===o?o*r.setting.rowHeight/2:o*r.setting.rowHeight/1.2:(i<2&&i>-2&&0!==i&&(i=5*o),i=i>5||i<-5?r.setting.visibleRows/10*320*n:o*r.setting.rowHeight):(i>10||i<-10)&&(i+=16*r.setting.visibleRows*n),r.tmp.iPrevDSTS=n,r._scrollToPosition("drag",r.tmp.iOffset+i,!1,"#ap-component-"+r.tmp.iScrollingComp+" .ap-component-data"),r.tmp.bFromTouchStart=!1}return e.preventDefault(),e.stopPropagation(),!1},_onEndDrag:function(e){var t=e.data.apo;return t.tmp.bEnd||(t.tmp.bEnd=!0,t.tmp.bIsTouched=!1,t._scrollToPosition("drag",t.tmp.iOffset,!0,"#ap-component-"+t.tmp.iScrollingComp+" .ap-component-data"),"mouseup"===e.type&&($(document).off("mousemove."+t.setting.timestamp,t._onDrag),$(document).off("mouseup."+t.setting.timestamp,t._onEndDrag))),e.preventDefault(),e.stopPropagation(),!1},_onMouseWheelScroll:function(e){var t,i=e.data.apo,a=e.data;return e=e||window.event,a.component!==i.tmp.iScrollingComp&&i._setScrollingData(e),i._clearScrollTicker(),t=e.wheelDelta?e.wheelDelta/3:e.originalEvent.wheelDelta?e.originalEvent.wheelDelta/3:e.detail?-e.detail/3:0,i._scrollToPosition("mouseWheel",i.tmp.iOffset-t,!0,"#ap-component-"+i.tmp.iScrollingComp+" .ap-component-data"),e.preventDefault(),e.stopPropagation(),!1},_onClickButtonPlus:function(e){var t=e.data.apo;e.preventDefault(),e.stopPropagation(),t._setScrollingData(e),t._clearScrollTicker(),t._scrollToPosition("button",t.tmp.iOffset+t.setting.rowHeight,!0,"#ap-component-"+t.tmp.iScrollingComp+" .ap-component-data")},_onClickButtonMinus:function(e){var t=e.data.apo;e.preventDefault(),e.stopPropagation(),t._setScrollingData(e),t._clearScrollTicker(),t._scrollToPosition("button",t.tmp.iOffset-t.setting.rowHeight,!0,"#ap-component-"+t.tmp.iScrollingComp+" .ap-component-data")},_onKeyDown:function(e){var t=e.data.apo;e.preventDefault(),e.stopPropagation(),t._setScrollingData(e),t._clearScrollTicker(),38===e.keyCode?t._scrollToPosition("key",t.tmp.iOffset-t.setting.rowHeight,!0,"#ap-component-"+t.tmp.iScrollingComp+" .ap-component-data"):40===e.keyCode&&t._scrollToPosition("key",t.tmp.iOffset+t.setting.rowHeight,!0,"#ap-component-"+t.tmp.iScrollingComp+" .ap-component-data")},_onKeyUp:function(e){var t=e.data.apo;e.preventDefault(),e.stopPropagation(),t._unsetScrollingData()},_getTouchPosition:function(e){e.data.apo;return(e=e.originalEvent||e).changedTouches?e.changedTouches[0].pageY:e.pageY},_setScrollingData:function(e){var t=e.data.apo;t.tmp.iScrollingComp=parseInt(e.data.component),t.tmp.oScrollingComp=$("#ap-component-"+e.data.component).find(".ap-component-data"),t.tmp.iMinTopPos=0,t.tmp.iMaxTopPos=$(t.tmp.oScrollingComp).find(".ap-row").length*t.setting.rowHeight-$(t.tmp.oScrollingComp).parent().innerHeight(),t.tmp.iTS=Date.now(),t.tmp.iCompDragStart=t.tmp.iTS,t.tmp.iOffsetStart=Math.abs($(t.tmp.oScrollingComp).position().top),t.tmp.iOffset=t.tmp.iOffsetStart,t.tmp.iOffsetPrev=t.tmp.iOffsetStart,t.tmp.iTimeout=0,t.tmp.iDir=1,t.tmp.iTotalDS=0,t.tmp.iPrevDSTS=0,t._clearScrollTicker()},_unsetScrollingData:function(){var e=this;e.tmp.bIsTouched=!1,e.tmp.iPos=0,e.tmp.iTS=0,e.tmp.iOffset=0,e.tmp.iTimeout=0,e.tmp.iMinTopPos=0,e.tmp.iMaxTopPos=0,e.tmp.oScrollingComp=null,e.tmp.iScrollingComp=-1,e.tmp.iDir=0,e._clearScrollTicker(),$(document).off("mousemove."+e.setting.timestamp),$(document).off("mouseup."+e.setting.timestamp),$(document).off("touchend."+e.setting.timestamp)},_getScrollingData:function(){var e=this,t={};return t.iScrollingComp=e.tmp.iScrollingComp,t.oScrollingComp=e.tmp.oScrollingComp,t.iMinTopPos=e.tmp.iMinTopPos,t.iMaxTopPos=e.tmp.iMaxTopPos,t.iTS=e.tmp.iTS,t.iCompDragStart=e.tmp.iCompDragStart,t.iOffsetStart=e.tmp.iOffsetStart,t.iOffset=e.tmp.iOffset,t.iOffsetPrev=e.tmp.iOffsetPrev,t.iTimeout=e.tmp.iTimeout,t.iDir=e.tmp.iDir,t},_clearScrollTicker:function(){clearTimeout(this.tmp.oScrollTicker),this.tmp.oScrollTicker=null},_scrollToPosition:function(e,t,i,a){var n=this,o=n.tmp.iScrollingComp,s=t<n.tmp.iOffset?1:t===n.tmp.iOffset?n.tmp.iDir:-1,r=t%n.setting.rowHeight,l=n.setting.rowHeight/4,m=n.tmp.iOffset,p=.1;n.tmp.iDir=s,i&&(t=0!==r?r<l?t-r:t+(n.setting.rowHeight-r):t);var c=n.tmp.iMinTopPos-n.setting.rowHeight,d=n.tmp.iMaxTopPos+n.setting.rowHeight;if(n.tmp.iOffset=t>n.tmp.iMaxTopPos?d:t<n.tmp.iMinTopPos?c:t,$.AnyPicker.extra.bHasCSS3D){var g=Math.abs(m-n.tmp.iOffset);p="drag"===e?g<6*n.setting.rowHeight?g/(10*n.setting.rowHeight):(p=g/(10*n.setting.rowHeight))<=.2?.2:p:.1,n._performTransition(o,a,n.tmp.iOffset,n.tmp.iTimeout/1e3,n.tmp.iMinTopPos,n.tmp.iMaxTopPos,s,c,d,e,i),n.tmp.iTimeout=n.tmp.iTimeout-(Date.now()-n.tmp.iTS)+1e3*p}else n._performTransition(o,a,n.tmp.iOffset,p,n.tmp.iMinTopPos,n.tmp.iMaxTopPos,s,c,d,e,i)},_performTransition:function(e,t,i,a,n,o,s,r,l,m,p){var c=$(this.tmp.overlaySelector).find(t).get(0),d=this._getOffset(c,!0),g=Math.abs(d-i)/(10*this.setting.rowHeight);a=(a=a>g?g:a)<.1?.1:a,a=$.AnyPicker.extra.bHasPointer&&this.tmp.bIsTouched&&"auto"===m?0:a,$.AnyPicker.extra.bHasCSS3D?(c.style[$.AnyPicker.extra.sCSSTransition]=$.AnyPicker.extra.sCSSTransformStyle+" "+a+"s ease-out",c.style[$.AnyPicker.extra.sCSSTransform]="translate3d(0px, "+-i+"px, 0px)"):$(c).animate({top:-i},100),this.tmp.iOffset=i;var u=this._getScrollingData();this._performTransitionAfter(u,l,r,m,a,p),this._clearScrollTicker()},_performTransitionAfter:function(e,t,i,a,n,o){var s=this;setTimeout(function(){!o||"drag"!==a&&"mouseWheel"!==a||(s.tmp.oScrollTicker=1,s._scrollToRow(e.iDir,t,i,e.iMinTopPos,e.iMaxTopPos,a));var r=$(e.oScrollingComp).get(0),l="auto"===a?e.iOffset:-s._getOffset(r,!1),m=l<e.iMinTopPos,p=l>e.iMaxTopPos,c=Math.abs(l);m?l=e.iMinTopPos:p&&(l=e.iMaxTopPos),m||p?(n=Math.abs(c-l)/(10*s.setting.rowHeight),$.AnyPicker.extra.bHasCSS3D?(r.style[$.AnyPicker.extra.sCSSTransition]=$.AnyPicker.extra.sCSSTransformStyle+" "+n+"s ease-out",r.style[$.AnyPicker.extra.sCSSTransform]="translate3d(0px, "+-Math.abs(l)+"px, 0px)"):$(r).animate({top:-Math.abs(l)},100),e.iOffset=l,c=l,s._skipDisabledRowAfter(e,c,a,n,o)):(o||c===e.iMinTopPos||c===e.iMaxTopPos)&&s._skipDisabledRow(a,e.iScrollingComp,c,e.iDir)},1e3*n)},_skipDisabledRowAfter:function(e,t,i,a,n){var o=this;setTimeout(function(){var a="auto"===i?t:e.iOffset;(n||a===e.iMinTopPos||a===e.iMaxTopPos)&&o._skipDisabledRow(i,e.iScrollingComp,a,e.iDir)},1e3*a)},_getOffset:function(e,t){var i=$(e).hasClass("ap-component-data")?$(e).css("transform"):$(e).find(".ap-component-data").css("transform"),a=0;if($.CF.isValid(i))if("none"===i)a=0;else{var n=(i=(i=i.replace("matrix(","")).replace(")","")).split(", ");a=n.length>6?parseInt(n[13]):parseInt(n[5])}return t?Math.abs(a):a},_scrollToRow:function(e,t,i,a,n,o){var s,r;if(null!==this.tmp.oScrollTicker){var l=$(this.tmp.oScrollingComp).get(0);(0!==(s=(r=this._getOffset(l,!1))%this.setting.rowHeight)||0===s&&(r>a||r<-n))&&(r=Math.abs(r),r=(r=-1===e?r+(this.setting.rowHeight-Math.abs(s)):r+s)>n?n:r<a?a:r,.4,$.AnyPicker.extra.bHasCSS3D?(l.style[$.AnyPicker.extra.sCSSTransition]=$.AnyPicker.extra.sCSSTransformStyle+" 0.4s ease-out",l.style[$.AnyPicker.extra.sCSSTransform]="translate3d(0px, "+-Math.abs(r)+"px, 0px)"):$(l).animate({top:-Math.abs(r)},100),this.tmp.iOffset=r)}},__scrollToSelectedRow:function(){var e,t=0;for($.CF.compareStrings(this.setting.mode,"datetime")&&this.__setSelectedDateTimeInComponent(),e=0;e<this.tmp.numOfComp;e++){var i=$(this.tmp.overlaySelector).find("#ap-component-"+e+" .ap-row-selected"),a=i.length>0?i[0]:null;if(null!==a){var n=$(a).position().top,o=this.tmp.iExt*this.setting.rowHeight;n=0===n?n:n-o,this.callScrollToPosition(e,this,n,t),t+=200}}},callScrollToPosition:function(e,t,i,a){var n={};n.data={component:e,apo:t},this._setScrollingData(n),this._scrollToPosition("auto",i,!0,"#ap-component-"+e+" .ap-component-data")},setSelectedAndInvalidValuesForRows:function(e){$.CF.compareStrings(this.setting.mode,"select")?this.__disableInvalidRowsOfSelect():$.CF.compareStrings(this.setting.mode,"datetime")&&(e&&this.__setSelectedDateTimeInComponent(),$(this.tmp.overlaySelector).find(".ap-row").removeClass("ap-row-disabled ap-row-invalid ap-row-hidden"),this.__disableInvalidRowsOfDateTimePicker(),this.__setDaysOfMonthInDatePicker()),e&&this.__scrollToSelectedRow()},__changeComponentValue:function(e,t){this.setting.components[e];var i,a,n,o=this.setting.dataSource[e].data;for(i=0;i<o.length;i++)a="#ap-row-"+e+"-"+i,n=$(this.tmp.overlaySelector).find(a),o[i].val===t?(o[i].selected=!0,n.attr("aria-selected","true"),n.addClass("ap-row-selected")):(o[i].selected=!1,n.attr("aria-selected","false"),n.removeClass("ap-row-selected"))},_skipDisabledRow:function(e,t,i,a){var n=this,o="#ap-component-"+t+" .ap-component-data",s=$(n.tmp.overlaySelector).find(o).get(0),r=Math.floor(i/n.setting.rowHeight),l="#ap-row-"+t+"-",m=l+r,p=$(s).find(".ap-row").length-2*n.tmp.iExt,c=$(s).find(m).hasClass("ap-row-disabled"),d=-1,g=0,u={};if($.CF.isValid(s)&&c){1===a&&-1===(d=n._findRows(t,r,p,s,a))&&(a=-1,g=1),-1===a&&-1===(d=n._findRows(t,r,p,s,a))&&0===g&&(a=1,d=n._findRows(t,r,p,s,a));var f=-1!==d?$(s).find(l+d).position().top-n.tmp.iExt*n.setting.rowHeight:-1;-1!==d&&i!==f?(!0,u.data={component:t,apo:n},n._setScrollingData(u),n._scrollToPosition("auto",f,!0,o)):setTimeout(function(){n._actionsOnComponentStop(e,t,r,i,a)},200)}else setTimeout(function(){n._actionsOnComponentStop(e,t,r,i,a)},200)},_actionsOnComponentStop:function(e,t,i,a,n){var o=this,s="";if(o.__setAriaSelectedForRowElement(t,a,n),o._getSelectedValueInComponent(null),$.CF.compareStrings(o.setting.inputChangeEvent,"onChange")&&o._setOutput(),"DynamicFunction"===o.tmp.sHeaderTitleType)s=o.setting.headerTitle.format.call(o.tmp.selectedValues),$(o.tmp.overlaySelector).find(".ap-header__title").text(s);else if("DynamicString"===o.tmp.sHeaderTitleType){if($.CF.compareStrings(o.setting.mode,"select"))for(var r=0;r<o.tmp.numOfComp;r++)0!==r&&(s+=" "),s+=o.tmp.selectedValues.values[r].label;else $.CF.compareStrings(o.setting.mode,"datetime")&&(s=o.formatOutputDates(o.tmp.selectedValues.date,o.tmp.sArrHeaderTitleFormat));var l=!0;o.tmp.bIsManualDragging||(l=!1),l&&$(o.tmp.overlaySelector).find(".ap-header__title").text(s)}"auto"!==e&&$.CF.isValid(o.setting.onChange)&&o.setting.onChange.call(o,t,i,o.tmp.selectedValues,e),o.setSelectedAndInvalidValuesForRows(!1)},_findRows:function(e,t,i,a,n){var o;if(-1===n){for(o=t+1;o<i;o++)if(!$(a).find("#ap-row-"+e+"-"+o).hasClass("ap-row-disabled"))return o}else if(1===n)for(o=t-1;o>0;o--)if(!$(a).find("#ap-row-"+e+"-"+o).hasClass("ap-row-disabled"))return o;return-1},_validateSelectedValues:function(){if($.CF.compareStrings(this.setting.mode,"datetime")){var e=this.__getSelectedDate(!1);this.__validateSelectedDate(e,!1)}},__setAriaSelectedForRowElement:function(e,t,i){var a,n=$(this.tmp.overlaySelector).find("#ap-component-"+e);0===t&&(t=this._getOffset(n,!0)),1===i?a=Math.floor(t/this.setting.rowHeight):-1===i&&(a=Math.ceil(t/this.setting.rowHeight));var o=n.find(".ap-row"),s=n.find("#ap-row-"+e+"-"+a);o.attr("aria-selected","false"),o.removeClass("ap-row-selected"),s.attr("aria-selected","true"),s.addClass("ap-row-selected")},_getSelectedValueInComponent:function(e){var t,i,a=this,n=[];if(a.tmp.selectedValues={},$.CF.isValid(e))i=$(a.tmp.overlaySelector).find("#ap-component-"+e+" .ap-row-selected"),n.push({component:e,val:i.data("value"),label:i.data("label")});else for(t=0;t<a.tmp.numOfComp;t++)i=$(a.tmp.overlaySelector).find("#ap-component-"+t+" .ap-row-selected"),n.push({component:t,val:i.data("value"),label:i.data("label")});a.tmp.selectedValues.values=n,$.CF.compareStrings(a.setting.mode,"datetime")&&(a.tmp.selectedValues.date=a.__getSelectedDate(!1),a.tmp.selectedDate=a.tmp.selectedValues.date)},__getDataSourceValueFromLabel:function(e,t,i){var a,n,o,s,r="";if($.CF.isValid(t))for(o=this.setting.dataSource[t].data,n=0;n<o.length;n++)s=o[n],$.CF.compareStrings(s.label,e)?(r=s.val,i&&(s.selected=!0)):i&&(s.selected=!1),this.setting.dataSource[t].data[n]=s;else for(a=0;a<this.tmp.numOfComp;a++)for(o=this.setting.dataSource[a].data,n=0;n<o.length;n++)s=o[n],$.CF.compareStrings(s.label,e)?(i&&(s.selected=!0),r=s.val):i&&(s.selected=!1);return r},__getValuesOfComponent:function(e,t){var i,a=this,n=null;if("component"===e)if(a.setting.components[t].component===t)n=a.setting.components[t];else for(i=0;i<a.tmp.numOfComp;i++)a.setting.components[i].component===t&&(n=a.setting.components[i]);else if("datasource"===e)if(a.setting.dataSource[t].component===t)n=a.setting.dataSource[t];else for(i=0;i<a.tmp.numOfComp;i++)a.setting.dataSource[i].component===t&&(n=a.setting.dataSource[i]);return n}}),t.prototype=$.extend(t.prototype,{__setComponentsOfSelect:function(){var e=this;if(null===e.setting.dataSource)if(e.tmp.oElemValid.bIsListItem||e.tmp.oElemValid.bIsSelect){var t,i;e.setting.components=[];var a={component:1};a.name=$(e.elem).data("name"),a.label=$(e.elem).data("label"),e.setting.components.push(a);var n=[];e.tmp.oElemValid.bIsListItem?t="li":e.tmp.oElemValid.bIsSelect&&(t="option"),$(e.elem).find(t).each(function(){var t={val:(i=$(this)).attr("value")||i.data("value")||i.text(),label:i.text(),selected:function(){return!!(i.attr("selected")||void 0!==i.attr("data-selected")&&"true"===i.attr("data-selected"))},disabled:function(){return!!(i.attr("disabled")||void 0!==i.data("disabled")&&"true"===i.data("disabled"))}};t.disabled?t.selected=!1:t.selected&&(e.tmp.selected={val:t.val,displayVal:t.displayVal}),n.push(t)}),e.setting.dataSource=[];var o={component:1};o.data=n,e.setting.dataSource.push(o),e.tmp.numOfComp=1,$.CF.compareStrings(e.setting.headerTitle.contentBehaviour,"Dynamic")&&$.CF.isValid(e.setting.headerTitle.format)&&("function"==typeof e.setting.headerTitle.format?e.tmp.sHeaderTitleType="DynamicFunction":"string"==typeof e.setting.headerTitle.format&&(e.tmp.sHeaderTitleType="DynamicString"))}else console.log("You will have to specify dataSource either as a JSON object or as <ul>, <ol>, <dl> or <select>")},__disableInvalidRowsOfSelect:function(){var e,t=this.setting.dataSource[0].data;for(e=0;e<t.length;e++)$.CF.isValid(t[e].disabled)&&!0===t[e].disabled&&$(this.elem).find("#ap-row-0-"+e).addClass("ap-row-disabled")}}),$.AnyPicker=$.extend(!0,$.AnyPicker,{defaults:{selectedDate:null,i18n:{veryShortDays:["Su","Mo","Tu","We","Th","Fr","Sa"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fullDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],numbers:["0","1","2","3","4","5","6","7","8","9"],meridiem:{a:["a","p"],aa:["am","pm"],A:["A","P"],AA:["AM","PM"]},componentLabels:{date:"Date",day:"Day",month:"Month",year:"Year",hours:"Hours",minutes:"Minutes",seconds:"Seconds",meridiem:"Meridiem"}},inputDateTimeFormat:"",dateTimeFormat:"dd-MM-yyyy hh:mm AA",tzOffset:"",maxValue:null,minValue:null,maxYear:0,disableValues:{},intervals:{h:1,m:1,s:1},roundOff:!0},tempDefaults:{oMinMax:{},oArrPDisable:{},sDateTimeMode:"",sArrDateTimeFormat:[],sDateTimeRegex:"",diffDateTimeFormats:!1,sArrInputDateTimeFormat:[],sInputDateTimeRegex:"",sHeaderTitleType:"Static",sArrHeaderTitleFormat:[],dPrevDate:null},extra:{dToday:new Date,iMS:{m:6e4,h:36e5,d:864e5,w:6048e5},sFormatRegex:/(\[[^\[]*\])|(\\)?(MMMM|MMM|MM?|DDDD|DDD|DD|D|dd?|yyyy|YYYY|yy|YY|y|Y|aa?|AA?|hh?|HH?|mm?|ss?|x|X|zz?|ZZ?|.)/g,en:{veryShortDays:["Su","Mo","Tu","We","Th","Fr","Sa"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],fullDays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],fullMonths:["January","February","March","April","May","June","July","August","September","October","November","December"],numbers:["0","1","2","3","4","5","6","7","8","9"],meridiem:{a:["a","p"],aa:["am","pm"],A:["A","P"],AA:["PM","PM"]}},sArrDateComponents:["d","dd","DD","DDD","DDDD","M","MM","MMM","MMMM","y","yy","yyyy","Y","YY","YYYY","h","hh","H","HH","m","mm","s","ss","AA","A","aa","a"],sArrDateTimeModes:["date","time","datetime"]}}),t.prototype=$.extend(t.prototype,{_isSupportedFormat:function(e){return-1!==e.search($.AnyPicker.extra.sFormatRegex,"")},__setComponentsOfDateTimePicker:function(){var e,t,i=this;i.setting.components=[],i.tmp.numOfComp=0,i.setting.dataSource=[];var a=-1!==i.setting.dateTimeFormat.search(/D|d|M|y|Y/,""),n=-1!==i.setting.dateTimeFormat.search(/H|h|m|s|A|a/,"");i.tmp.sDateTimeMode=a&&n?"datetime":a?"date":n?"time":"",$.CF.isValid(i.setting.dateTimeFormat)?$.CF.isValid(i.setting.inputDateTimeFormat)?i.tmp.diffDateTimeFormats=i.setting.dateTimeFormat!==i.setting.inputDateTimeFormat:(i.setting.inputDateTimeFormat=i.setting.dateTimeFormat,i.tmp.diffDateTimeFormats=!1):console.log("Invalid DateTimeFormat"),i.tmp.sArrDateTimeFormat=i._setDateTimeFormatComponentsArray(i.setting.dateTimeFormat),i.tmp.diffDateTimeFormats&&(i.tmp.sArrInputDateTimeFormat=i._setDateTimeFormatComponentsArray(i.setting.inputDateTimeFormat)),i.tmp.sDateTimeRegex=i._createDateTimeRegex(i.tmp.sArrDateTimeFormat),i.tmp.diffDateTimeFormats&&(i.tmp.sInputDateTimeRegex=i._createDateTimeRegex(i.tmp.sArrInputDateTimeFormat)),i.setSelectedDate(i.setting.selectedDate),i.parseDisableValues();var o=i.setting.dateTimeFormat.match(/(MMMM).*(dd|d).*(yyyy|YYYY)/);if(i.tmp.sArrDateTimeFormat.length>0)for(e=0;e<i.tmp.sArrDateTimeFormat.length;e++)-1!==(t=i.tmp.sArrDateTimeFormat[e]).search(/D|d|M|y|Y|H|h|m|s|A|a/,"g")&&i._setComponentAndDataSourceForFormat(t,{MMMMddYYYY:o});i.tmp.headerTitleDefined||!$.CF.compareStrings(i.setting.mode,"datetime")||$.CF.compareStrings(i.setting.theme,"iOS")||(i.setting.headerTitle.contentBehaviour="Dynamic","datetime"===i.tmp.sDateTimeMode?i._formatContains(i.tmp.sArrDateTimeFormat,["d","M","y|Y","h","m"],"and")&&i._formatContains(i.tmp.sArrDateTimeFormat,["a","A"],"or")?i.setting.headerTitle.format="dd.MM.yyyy, hh:mm "+i._getFormatForComponent("meridiem"):i._formatContains(i.tmp.sArrDateTimeFormat,["d","M","y|Y","H","m"],"and")?i.setting.headerTitle.format="dd.MM.yyyy, HH:mm":i.setting.headerTitle.format=i.setting.dateTimeFormat:"date"===i.tmp.sDateTimeMode?i._formatContains(i.tmp.sArrDateTimeFormat,["d","M","y|Y"],"and")?i.setting.headerTitle.format="DDD, MMM dd, yyyy":i.setting.headerTitle.format=i.setting.dateTimeFormat:"time"===i.tmp.sDateTimeMode&&(i._formatContains(i.tmp.sArrDateTimeFormat,["h","m"],"and")&&i._formatContains(i.tmp.sArrDateTimeFormat,["a","A"],"or")?i.setting.headerTitle.format="hh:mm "+i._getFormatForComponent("meridiem"):i._formatContains(i.tmp.sArrDateTimeFormat,["H","m"],"and")?i.setting.headerTitle.format="HH:mm":i.setting.headerTitle.format=i.setting.dateTimeFormat)),$.CF.compareStrings(i.setting.headerTitle.contentBehaviour,"Dynamic")&&$.CF.isValid(i.setting.headerTitle.format)&&("function"==typeof i.setting.headerTitle.format?i.tmp.sHeaderTitleType="DynamicFunction":"string"==typeof i.setting.headerTitle.format&&(i.tmp.sHeaderTitleType="DynamicString",i.tmp.sArrHeaderTitleFormat=i._matchRegex($.AnyPicker.extra.sFormatRegex,i.setting.headerTitle.format)))},setSelectedDate:function(e){var t=this;if($.CF.isValid(e)){if("string"==typeof e?t.tmp.selectedDate=t._parseInputDateTime(e):"[object Date]"===Object.prototype.toString.call(e)&&(t.setting.selectedDate=t.formatOutputDates(e),t.tmp.selectedDate=new Date(e)),null!==t.setting.inputElement){var i=$(t.setting.inputElement);t.tmp.oInputElemValid.bIsInput?i.val(t.setting.selectedDate):i.text(t.setting.selectedDate)}}else t.tmp.selectedDate=new Date($.AnyPicker.extra.dToday)},setMinimumDate:function(e){this.setting.minValue=e,this.parseDisableValues()},setMaximumDate:function(e){this.setting.maxValue=e,this.parseDisableValues()},_getFormatForComponent:function(e){for(var t=0;t<this.tmp.numOfComp;t++){var i=this.setting.components[t];if(i.name===e)return i.format}},_formatContains:function(e,t,i){var a,n,o,s=[];for(a=0;a<t.length;a++){var r=t[a],l=!1;for(n=0;n<e.length;n++){var m=e[n];if($.CF.isValid(m)&&$.CF.isValid(r)&&-1!==m.search(new RegExp(r),"")){l=!0;break}}s.push(l)}if("and"===i){for(o=!0,a=0;a<s.length;a++)if(!0!==s[a]){o=!1;break}}else if("or"===i)for(o=!1,a=0;a<s.length;a++)if(!0===s[a]){o=!0;break}return o},_setComponentAndDataSourceForFormat:function(e,t){var i=this,a={},n={};i._isSupportedFormat(e)&&("d"===e||"dd"===e?(a.name="date",a.label=i.setting.i18n.componentLabels.date,a.type="date",$.CF.compareStrings(i.setting.theme,"iOS")&&t.MMMMddYYYY&&(a.width="24%",a.textAlign="right")):"DD"===e||"DDD"===e||"DDDD"===e?(a.name="day",a.label=i.setting.i18n.componentLabels.day,a.type="date"):"M"===e||"MM"===e||"MMM"===e||"MMMM"===e?(a.name="month",a.label=i.setting.i18n.componentLabels.month,a.type="date",$.CF.compareStrings(i.setting.theme,"iOS")&&t.MMMMddYYYY&&(a.width="46%",a.textAlign="left")):"y"===e||"Y"===e||"yyyy"===e||"Y"===e||"YYYY"===e?(a.name="year",a.label=i.setting.i18n.componentLabels.year,a.type="date",$.CF.compareStrings(i.setting.theme,"iOS")&&t.MMMMddYYYY&&(a.width="30%",a.textAlign="right")):"H"===e||"HH"===e||"h"===e||"hh"===e?(a.name="hours",a.label=i.setting.i18n.componentLabels.hours,a.type="time"):"m"===e||"mm"===e?(a.name="minutes",a.label=i.setting.i18n.componentLabels.minutes,a.type="time"):"s"===e||"ss"===e?(a.name="seconds",a.label=i.setting.i18n.componentLabels.seconds,a.type="time"):"aa"===e||"a"===e||"AA"===e||"A"===e?(a.name="meridiem",a.label=i.setting.i18n.componentLabels.meridiem,a.type="time"):console.log("Picker Component for "+e+" can noot be added because the format you specified as  "+e+"  cannot be parsed using this function. If you want to parse it, please add the condition in the _setComponentAndDataSourceForFormat function."),a.format=e,a.component=i.tmp.numOfComp,i.setting.components.push(a),n.component=a.component,n.data=i.__setDataSourceArrayForComponent(a.name,e),i.setting.dataSource.push(n),i.tmp.numOfComp++)},__setDataSourceArrayForComponent:function(e,t){var i,a,n,o,s,r,l=this,m=[],p=l.getDateObject(l.tmp.selectedDate),c=null,d=null;if($.CF.isValid(l.tmp.oMinMax.min)&&(c=l.getDateObject(l.tmp.oMinMax.min)),$.CF.isValid(l.tmp.oMinMax.max)&&(d=l.getDateObject(l.tmp.oMinMax.max)),"day"===e){if("DD"===t)for(a=0;a<$.AnyPicker.extra.en.veryShortDays.length;a++)m.push({val:a,label:l.setting.i18n.veryShortDays[a]});else if("DDD"===t)for(a=0;a<$.AnyPicker.extra.en.shortDays.length;a++)m.push({val:a,label:l.setting.i18n.shortDays[a]});else if("DDDD"===t)for(a=0;a<$.AnyPicker.extra.en.fullDays.length;a++)m.push({val:a,label:l.setting.i18n.fullDays[a]})}else if("date"===e)for(31,n=1,o=31,$.CF.isValid(c)&&$.CF.isValid(d)&&c.y===d.y&&c.M===d.M&&(n=c.d,o=d.d),a=n;a<=o;a++)"d"===t?i=0:"dd"===t&&(i=2),m.push({val:a,label:l.getNumberStringInFormat(a,i,!0)});else if("month"===e){if(n=1,o=12,$.CF.isValid(c)&&$.CF.isValid(d)&&c.y===d.y&&(n=c.M,o=d.M,"M"!==t&&"MM"!==t||(n++,o++)),"M"===t||"MM"===t)for("M"===t?i=0:"MM"===t&&(i=2),a=n;a<=o;a++)m.push({val:a-1,label:l.getNumberStringInFormat(a,i,!0)});else if("MMM"===t)for(a=n;a<=o;a++)m.push({val:a-1,label:l.setting.i18n.shortMonths[a-1]});else if("MMMM"===t)for(a=n;a<=o;a++)m.push({val:a-1,label:l.setting.i18n.fullMonths[a-1]})}else if("year"===e)for(s=0===l.setting.maxRows?50:l.setting.maxRows,r=Math.floor(s/2),n=$.CF.isValid(c)?c.y:s%2==0?p.y-r-1:p.y-r,o=$.CF.isValid(d)?d.y:p.y+r,a=n;a<=o;a++)m.push({val:a,label:l.getNumberStringInFormat(a,0,!0)});else if("hours"===e){var g=[],u=0;if(!l.setting.roundOff)for(u=p.H;u-l.setting.intervals.h>=0;)u-=l.setting.intervals.h;for("h"===t||"hh"===t?(u=0===(u%=12)?12:u,n=(g=[12,1,2,3,4,5,6,7,8,9,10,11]).indexOf(u),o=11):"H"!==t&&"HH"!==t||(n=u,o=23),"h"===t||"H"===t?i=0:"hh"!==t&&"HH"!==t||(i=2),a=n;a<=o;a+=l.setting.intervals.h)"h"===t||"hh"===t?m.push({val:g[a],label:l.getNumberStringInFormat(g[a],i,!0)}):"H"!==t&&"HH"!==t||m.push({val:a,label:l.getNumberStringInFormat(a,i,!0)})}else if("minutes"===e){var f=0;if(!l.setting.roundOff)for(f=p.m;f-l.setting.intervals.m>=0;)f-=l.setting.intervals.m;for("m"===t?i=0:"mm"===t&&(i=2),a=f;a<60;a+=l.setting.intervals.m)m.push({val:a,label:l.getNumberStringInFormat(a,i,!0)})}else if("seconds"===e){var h=0;if(!l.setting.roundOff)for(h=p.s;h-l.setting.intervals.s>=0;)h-=l.setting.intervals.s;for("s"===t?i=0:"ss"===t&&(i=2),a=h;a<60;a+=l.setting.intervals.s)m.push({val:a,label:l.getNumberStringInFormat(a,i,!0)})}else if("meridiem"===e)for(a=0;a<2;a++)m.push({val:a,label:l.setting.i18n.meridiem[t][a]});return m},_setDateTimeFormatComponentsArray:function(e){var t,i=this._matchRegex($.AnyPicker.extra.sFormatRegex,e),a="",n=[];for(t=0;t<i.length;t++){var o=i[t];o.match(/[a-zA-Z0-9]/)?(""!==a&&(n.push(a),a=""),n.push(o)):a+=o}return""!==a&&(n.push(a),a=""),n},_createDateTimeRegex:function(e){var t,i,a="";for(a+="(\\[[^\\[]*\\])|(\\\\)?",t=0;t<e.length;t++)i=e[t],a=this._getRegexComponentForFormat(a,i);return a+="|.",new RegExp(a,"g")},_getRegexComponentForFormat:function(e,t){return"d"===t||"dd"===t?e+="(\\d{1,2})":"DD"===t?(e+="(",e+=this.setting.i18n.veryShortDays.join("|"),e+=")"):"DDD"===t?(e+="(",e+=this.setting.i18n.shortDays.join("|"),e+=")"):"DDDD"===t?(e+="(",e+=this.setting.i18n.fullDays.join("|"),e+=")"):"M"===t||"MM"===t?e+="(\\d{1,2})":"MMM"===t?(e+="(",e+=this.setting.i18n.shortMonths.join("|"),e+=")"):"MMMM"===t?(e+="(",e+=this.setting.i18n.fullMonths.join("|"),e+=")"):$.CF.compareStrings(t,"y")||$.CF.compareStrings(t,"yyyy")?e+="(\\d{1,4})":$.CF.compareStrings(t,"yy")?e+="(\\d{2})":$.CF.compareStrings(t,"h")||$.CF.compareStrings(t,"hh")?e+="(\\d{1,2})":"m"===t||"mm"===t?e+="(\\d{1,2})":"s"===t||"ss"===t?e+="(\\d{1,2})":"a"===t||"aa"===t||"A"===t||"AA"===t?(e+="(","a"===t?e+=this.setting.i18n.meridiem.a.join("|"):"aa"===t?e+=this.setting.i18n.meridiem.aa.join("|"):"A"===t?e+=this.setting.i18n.meridiem.A.join("|"):"AA"===t&&(e+=this.setting.i18n.meridiem.AA.join("|")),e+=")"):e+="/"===t||"-"===t||"."===t||" "===t||":"===t||","===t?"(/|-|.| |:|,)":"("+t+")",e},_matchRegex:function(e,t){for(var i=[],a=[];null!==(a=e.exec(t));){for(var n=3;n<a.length;n++)i.push(a[n]);a.index===e.lastIndex&&e.lastIndex++}return i},_parseInputDateTime:function(e){var t,i,a,n,o,s,r=null,l={};if("string"==typeof e){for(s=this.tmp.diffDateTimeFormats?this.tmp.sArrInputDateTimeFormat:this.tmp.sArrDateTimeFormat,o=this.tmp.diffDateTimeFormats?this.tmp.sInputDateTimeRegex:this.tmp.sDateTimeRegex,n=this._matchRegex(o,e),t=0;t<s.length;t++)i=s[t],a=n[t],-1!==i.search(/D|d|M|y|Y|H|h|m|s|A|a/,"")&&(l=this._setInputDateTimeValue(i,a,l));$.CF.isValid(l.h)&&(($.CF.compareStrings(l.me,"AM")||$.CF.compareStrings(l.sm,"A"))&&12===l.h?l.H=0:($.CF.compareStrings(l.me,"PM")||$.CF.compareStrings(l.sm,"P"))&&l.h<12?l.H=l.h+12:l.H=l.h),r=this.setDateInFormat({iDate:l},"")}else"[object Date]"===Object.prototype.toString.call(e)&&(r=new Date(e));return r},_setInputDateTimeValue:function(e,t,i){if(this._isSupportedFormat(e))if("d"===e||"dd"===e)i.d=parseInt(t);else if("M"===e||"MM"===e)i.M=parseInt(t)-1;else if("MMM"===e)i.M=this.setting.i18n.shortMonths.indexOf(t);else if("MMMM"===e)i.M=this.setting.i18n.fullMonths.indexOf(t);else if($.CF.compareStrings(e,"yy")){i.y=parseInt(t);var a=this.setting.maxYear/100,n=this.setting.maxYear%100;i.y>n?i.y=100*(a-1)+i.y:i.y=100*a+i.y}else $.CF.compareStrings(e,"y")||$.CF.compareStrings(e,"yyyy")?i.y=parseInt(t):"H"===e||"HH"===e?i.H=parseInt(t):"h"===e||"hh"===e?i.h=parseInt(t):"m"===e||"mm"===e?i.m=parseInt(t):"s"===e||"ss"===e?i.s=parseInt(t):"a"===e||"A"===e?$.CF.isValid(t)&&(-1!==t.search(/A/gi,"")?i.me="A":-1!==t.search(/P/gi,"")&&(i.me="P")):"aa"!==e&&"AA"!==e||$.CF.isValid(t)&&(-1!==t.search(/AM/gi,"")?i.me="AM":-1!==t.search(/PM/gi,"")&&(i.me="PM"));return i},formatOutputDates:function(e,t){var i,a,n,o,s=this,r="";for(n=$.CF.isValid(t)?"string"==typeof t?s._setDateTimeFormatComponentsArray(t):"object"==typeof t?t:s.tmp.diffDateTimeFormats?s.tmp.sArrInputDateTimeFormat:s.tmp.sArrDateTimeFormat:s.tmp.diffDateTimeFormats?s.tmp.sArrInputDateTimeFormat:s.tmp.sArrDateTimeFormat,o=s.getDateObject(e),a=0;a<n.length;a++)if("dd"===(i=n[a]))r+=s.getNumberStringInFormat(o.d,2,!0);else if("d"===i)r+=s.getNumberStringInFormat(o.d,0,!0);else if("DDDD"===i)r+=s.setting.i18n.fullDays[o.D];else if("DDD"===i)r+=s.setting.i18n.shortDays[o.D];else if("DD"===i)r+=s.setting.i18n.veryShortDays[o.D];else if("MMMM"===i)r+=s.setting.i18n.fullMonths[o.M];else if("MMM"===i)r+=s.setting.i18n.shortMonths[o.M];else if("MM"===i)r+=s.getNumberStringInFormat(o.M+1,2,!0);else if("M"===i)r+=s.getNumberStringInFormat(o.M+1,0,!0);else if($.CF.compareStrings(i,"yyyy"))r+=s.getNumberStringInFormat(o.y,4,!0);else if($.CF.compareStrings(i,"yy")){var l=Math.floor(o.y/10)%10*10+o.y%10;r+=s.getNumberStringInFormat(l,2,!0)}else $.CF.compareStrings(i,"y")?r+=s.getNumberStringInFormat(o.y,4,!0):r+="hh"===i?s.getNumberStringInFormat(o.h,2,!0):"h"===i?s.getNumberStringInFormat(o.h,0,!0):"HH"===i?s.getNumberStringInFormat(o.H,2,!0):"H"===i?s.getNumberStringInFormat(o.H,0,!0):"mm"===i?s.getNumberStringInFormat(o.m,2,!0):"m"===i?s.getNumberStringInFormat(o.m,0,!0):"ss"===i?s.getNumberStringInFormat(o.s,2,!0):"s"===i?s.getNumberStringInFormat(o.s,0,!0):"aa"===i?o.me:"a"===i?o.sm:"AA"===i?o.me.toUpperCase():"A"===i?o.sm.toUpperCase():i;return r},parseDisableValues:function(){var e,t,i,a=this;if(a.tmp.oMinMax={min:null,max:null},a.tmp.oArrPDisable={day:[],date:[],time:[],datetime:[]},$.CF.isValid(a.setting.minValue)){var n=a._parseInputDateTime(a.setting.minValue);$.CF.isValid(n)&&(a.tmp.oMinMax.min=n)}if($.CF.isValid(a.setting.maxValue)){var o=a._parseInputDateTime(a.setting.maxValue);$.CF.isValid(o)&&(a.tmp.oMinMax.max=o)}var s=!1;if($.CF.isValid(a.tmp.oMinMax.min)&&$.CF.isValid(a.tmp.oMinMax.max)?("date"===a.tmp.sDateTimeMode?a.compareDates(a.tmp.selectedDate,a.tmp.oMinMax.min)>=1&&a.compareDates(a.tmp.selectedDate,a.tmp.oMinMax.max)<=-1||(s=!0):"time"===a.tmp.sDateTimeMode?a.compareTimes(a.tmp.selectedDate,a.tmp.oMinMax.min)>=1&&a.compareTimes(a.tmp.selectedDate,a.tmp.oMinMax.max)<=-1||(s=!0):"datetime"===a.tmp.sDateTimeMode&&(a.compareDateTimes(a.tmp.selectedDate,a.tmp.oMinMax.min)>=1&&a.compareDateTimes(a.tmp.selectedDate,a.tmp.oMinMax.max)<=-1||(s=!0)),s&&(a.setting.selectedDate=new Date(a.tmp.oMinMax.min),a.tmp.selectedDate=new Date(a.tmp.oMinMax.min))):$.CF.isValid(a.tmp.oMinMax.min)?("date"===a.tmp.sDateTimeMode?a.compareDates(a.tmp.selectedDate,a.tmp.oMinMax.min)<-1&&(s=!0):"time"===a.tmp.sDateTimeMode?a.compareTimes(a.tmp.selectedDate,a.tmp.oMinMax.min)<-1&&(s=!0):"datetime"===a.tmp.sDateTimeMode&&a.compareDateTimes(a.tmp.selectedDate,a.tmp.oMinMax.min)<-1&&(s=!0),s&&(a.setting.selectedDate=new Date(a.tmp.oMinMax.min),a.tmp.selectedDate=new Date(a.tmp.oMinMax.min))):$.CF.isValid(a.tmp.oMinMax.max)&&("date"===a.tmp.sDateTimeMode?a.compareDates(a.tmp.selectedDate,a.tmp.oMinMax.max)>1&&(s=!0):"time"===a.tmp.sDateTimeMode?a.compareTimes(a.tmp.selectedDate,a.tmp.oMinMax.max)>1&&(s=!0):"datetime"===a.tmp.sDateTimeMode&&a.compareDateTimes(a.tmp.selectedDate,a.tmp.oMinMax.max)>1&&(s=!0),s&&(a.setting.selectedDate=new Date(a.tmp.oMinMax.max),a.tmp.selectedDate=new Date(a.tmp.oMinMax.max))),"date"===a.tmp.sDateTimeMode?a.tmp.oArrPDisable.date.push(a.tmp.oMinMax):"time"===a.tmp.sDateTimeMode?a.tmp.oArrPDisable.time.push({day:[],val:[a.tmp.oMinMax]}):"datetime"===a.tmp.sDateTimeMode&&a.tmp.oArrPDisable.datetime.push(a.tmp.oMinMax),$.CF.isValid(a.setting.disableValues)){if($.CF.isValid(a.setting.disableValues.day)&&a.setting.disableValues.day.length>0)for(e=0;e<a.setting.disableValues.day.length;e++)a.setting.disableValues.day[e]>=0&&a.setting.disableValues.day[e]<=6&&a.tmp.oArrPDisable.day.push(a.setting.disableValues.day[e]);if($.CF.isValid(a.setting.disableValues.date)&&a.setting.disableValues.date.length>0)for(e=0;e<a.setting.disableValues.date.length;e++){var r=a.setting.disableValues.date[e],l=null;if($.CF.isValid(r.val)){var m=a._parseInputDateTime(r.val);$.CF.isValid(m)&&(null===l&&(l={}),l.val=m)}if($.CF.isValid(r.start)){var p=a._parseInputDateTime(r.start);$.CF.isValid(p)&&(null===l&&(l={}),l.start=p)}if($.CF.isValid(r.end)){var c=a._parseInputDateTime(r.end);$.CF.isValid(c)&&(null===l&&(l={}),l.end=c)}$.CF.isValid(l)&&a.tmp.oArrPDisable.date.push(l)}if($.CF.isValid(a.setting.disableValues.time)&&a.setting.disableValues.time.length>0)for(t=0;t<a.setting.disableValues.time.length;t++){var d=a.setting.disableValues.time[t],g=$.CF.isValid(d.day)&&d.day.length>0;if($.CF.isValid(d.val)&&d.val.length>0){var u=[];for(i=0;i<d.val.length;i++){var f=d.val[i],h=null;if($.CF.isValid(f.val)){var D=a._parseInputDateTime(f.val);$.CF.isValid(D)&&(null===h&&(h={}),h.val=f)}if($.CF.isValid(f.start)){var S=a._parseInputDateTime(f.start);$.CF.isValid(S)&&(null===h&&(h={}),h.start=S)}if($.CF.isValid(f.end)){var v=a._parseInputDateTime(f.end);$.CF.isValid(v)&&(null===h&&(h={}),h.end=v)}$.CF.isValid(h)&&u.push(h)}u.length>0&&a.tmp.oArrPDisable.time.push({day:g?d.day:[],val:u})}}if($.CF.isValid(a.setting.disableValues.datetime)&&a.setting.disableValues.datetime.length>0)for(t=0;t<a.setting.disableValues.datetime.length;t++){var y=a.setting.disableValues.datetime[t],T=null;if($.CF.isValid(y.val)){var C=a._parseInputDateTime(y.val);$.CF.isValid(C)&&(null===T&&(T={}),T.val=C)}if($.CF.isValid(y.start)){var b=a._parseInputDateTime(y.start);$.CF.isValid(b)&&(null===T&&(T={}),T.start=b)}if($.CF.isValid(y.end)){var w=a._parseInputDateTime(y.end);$.CF.isValid(w)&&(null===T&&(T={}),T.end=w)}$.CF.isValid(T)&&a.tmp.oArrPDisable.datetime.push(T)}}else console.log("Invalid value for AnyPicker plugin option disableValues")},__setSelectedDateTimeInComponent:function(){var e,t,i="",a=this.getDateObject(this.tmp.selectedDate);for(e=0;e<this.tmp.numOfComp;e++)"date"===(t=this.setting.components[e]).name?i=a.d:"day"===t.name?i=a.D:"month"===t.name?i=a.M:"year"===t.name?i=a.y:"hours"===t.name?"h"===t.format||"hh"===t.format?i=a.h:"H"!==t.format&&"HH"!==t.format||(i=a.H):"minutes"===t.name?i=a.m:"seconds"===t.name?i=a.s:"meridiem"===t.name&&("a"===a.sm?i=0:"p"===a.sm&&(i=1)),this.__changeComponentValue(e,i)},__disableInvalidRowsOfDateTimePicker:function(){var e,t,i,a,n,o,s,r,l,m=this;if(1===m.tmp.numOfComp){if(s=(o=m.setting.components[0]).name,r=o.format,l=m.setting.dataSource[0].data,"day"===s)for(e=0;e<l.length;e++)for(t=0;t<m.tmp.oArrPDisable.day.length;t++)m.tmp.oArrPDisable.day[t]===l[t].val&&$(m.elem).find("#ap-row-0-"+e).addClass("ap-row-disabled ap-row-invalid")}else for(n=m.__getSelectedDate(!0)[1],e=0;e<m.setting.dataSource.length;e++){var p=m.setting.dataSource[e];for(t=0;t<p.data.length;t++){var c={d:1,M:0,y:0,H:0,h:0,m:0,s:0,sm:0};for(i=0;i<m.tmp.numOfComp;i++)i===e?(a=p.data[t].val,s=(o=m.setting.components[i]).name,r=o.format):(a=n[i],s=(o=m.setting.components[i]).name,r=o.format),"date"===s?c.d=parseInt(a):"month"===s?c.M=parseInt(a):"year"===s?c.y=parseInt(a):"hours"===s?"h"===r||"hh"===r?(c.h=parseInt(a),c.H=-1):"H"!==r&&"HH"!==r||(c.H=parseInt(a)):"minutes"===s?c.m=parseInt(a):"seconds"===s?c.s=parseInt(a):"meridiem"===s&&(c.sm=parseInt(a));-1===c.H&&(c.H=1===c.sm?12===c.h?12:c.h+12:12===c.h?0:c.h);var d=m.setDateInFormat({iDate:c},"");m.__validateSelectedDate(d,!0,!1)||$("#ap-component-"+e).find("#ap-row-"+e+"-"+t).addClass("ap-row-disabled ap-row-invalid")}}},__getSelectedDate:function(e){var t,i,a,n,o,s,r=this.getDateObject(this.tmp.selectedDate),l=0,m=[];for(t=0;t<this.tmp.numOfComp;t++)i=this.setting.components[t],n=(a=$(this.tmp.overlaySelector).find("#ap-component-"+t+" .ap-row-selected")).length>0?a[0]:null,o=parseInt($(n).data("value")),m.push(o),"date"===i.name?r.d=isNaN(o)?r.d:o:"day"===i.name?r.D=isNaN(o)?r.D:o:"month"===i.name?r.M=isNaN(o)?r.M:o:"year"===i.name?r.y=isNaN(o)?r.y:o:"hours"===i.name?"h"===i.format||"hh"===i.format?(r.h=isNaN(o)?r.h:o,r.H=-1):r.H=isNaN(o)?r.H:o:"minutes"===i.name?r.m=isNaN(o)?r.m:o:"seconds"===i.name?r.s=isNaN(o)?r.s:o:"meridiem"===i.name&&(l=isNaN(o)?"a"===r.sm?0:1:o);-1===r.H&&(r.H=1===l?12===r.h?12:r.h+12:12===r.h?0:r.h);var p=this._getNumberOfDaysOfMonth(r.M,r.y);return r.d>p&&(r.d=p),s=this.setDateInFormat({iDate:r},""),e?[s,m]:s},__validateSelectedDate:function(e,t,i){var a=this,n=a.getDateObject(e);if($.CF.isValid(a.tmp.oArrPDisable)){var o,s,r,l,m,p,c,d="datetime"===a.tmp.sDateTimeMode||"date"===a.tmp.sDateTimeMode,g="datetime"===a.tmp.sDateTimeMode||"time"===a.tmp.sDateTimeMode,u=!1,f=!0;if(!u&&d&&a.tmp.oArrPDisable.day.length>0)for(o=0;o<a.tmp.oArrPDisable.day.length;o++)if(a.tmp.oArrPDisable.day[o]===n.D){0===a.compareDates(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(i,e,"day"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}if(!u&&d&&a.tmp.oArrPDisable.date.length>0)for(o=0;o<a.tmp.oArrPDisable.date.length;o++)if(p=a.tmp.oArrPDisable.date[o],$.CF.isValid(p.val)){if(0===a.compareDates(e,p.val)){0===a.compareDates(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(i,e,"date"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(p.start)&&$.CF.isValid(p.end)){if(a.compareDates(e,p.start)>=0&&a.compareDates(e,p.end)<=0){0===a.compareDates(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(i,p.start,"date"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(p.start)){if(a.compareDates(e,p.start)>=0){0===a.compareDates(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(!0,p.start,"date"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(p.end)){if(a.compareDates(e,p.end)<=0){0===a.compareDates(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(!1,p.end,"date"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(p.min)&&$.CF.isValid(p.max)){if(r=a.compareDates(e,p.min)<0,l=a.compareDates(e,p.max)>0,m=!!r||!l,r||l){0===a.compareDates(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(m,p.min,"date"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(p.min)){if(a.compareDates(e,p.min)<0){0===a.compareDates(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(!1,p.min,"date"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(p.max)&&a.compareDates(e,p.max)>0){0===a.compareDates(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(!0,p.max,"date"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}if(!u&&g&&a.tmp.oArrPDisable.time.length>0)for(o=0;o<a.tmp.oArrPDisable.time.length;o++){var h=a.tmp.oArrPDisable.time[o],D=!1;if($.CF.isValid(h.day)&&h.day.length>0)for(s=0;s<h.day.length&&!(D=h.day[s]===n.D);s++);else D=!0;if(D)for(s=0;s<h.val.length;s++)if(c=h.val[s],$.CF.isValid(c.val)){if(0===a.compareTimes(e,c.val)){0===a.compareTimes(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(i,e,"time"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(c.start)&&$.CF.isValid(c.end)){if(a.compareTimes(e,c.start)>=0&&a.compareTimes(e,c.end)<=0){0===a.compareTimes(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(i,c.start,"time"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(c.start)){if(a.compareTimes(e,c.start)>=0){0===a.compareTimes(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(!0,c.start,"time"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(c.end)){if(a.compareTimes(e,c.end)<=0){0===a.compareTimes(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(!1,c.end,"time"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(c.min)&&$.CF.isValid(c.max)){if(r=a.compareTimes(e,c.min)<0,l=a.compareTimes(e,c.max)>0,m=!!r||!l,r||l){0===a.compareTimes(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(m,c.min,"time"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(c.min)){if(a.compareTimes(e,c.min)<0){0===a.compareTimes(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(!1,c.min,"time"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(c.max)&&a.compareTimes(e,c.max)>0){0===a.compareTimes(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(!0,c.max,"time"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}if(!u&&g&&a.tmp.oArrPDisable.datetime.length>0)for(o=0;o<a.tmp.oArrPDisable.datetime.length;o++)if(p=a.tmp.oArrPDisable.datetime[o],$.CF.isValid(p.val)){if(0===a.compareDateTimes(e,p.val)){0===a.compareDateTimes(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(i,e,"datetime"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(p.start)&&$.CF.isValid(p.end)){if(a.compareDateTimes(e,p.start)>=0&&a.compareDateTimes(e,p.end)<=0){0===a.compareDateTimes(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(i,p.start,"datetime"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(p.start)){if(a.compareDateTimes(e,p.start)>=0){0===a.compareDateTimes(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(!0,p.start,"datetime"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(p.end)){if(a.compareDateTimes(e,p.end)<=0){0===a.compareDateTimes(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(!1,p.end,"datetime"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(p.min)&&$.CF.isValid(p.max)){if(r=a.compareDateTimes(e,p.min)<0,l=a.compareDateTimes(e,p.max)>0,m=!!r||!l,r||l){0===a.compareDateTimes(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(m,p.min,"datetime"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(p.min)){if(a.compareDateTimes(e,p.min)<0){0===a.compareDateTimes(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(!1,p.min,"datetime"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}}else if($.CF.isValid(p.max)&&a.compareDateTimes(e,p.max)>0){0===a.compareDateTimes(e,a.tmp.selectedDate)?(u=!0,e=a._findValidSelectedDate(!0,p.max,"datetime"),a.tmp.selectedDate=new Date(e),a.__scrollToSelectedRow()):t?f=!1:a.__scrollToSelectedRow();break}if(t)return f}else if(t)return!0},_findValidSelectedDate:function(e,t,i){var a=this;if("day"===i||"date"===i){$.CF.isValid(a.setting.minValue)&&a.compareDates(a.setting.minValue,t)>=0&&(t=new Date(a.setting.minValue),e=!1),$.CF.isValid(a.setting.maxValue)&&a.compareDates(a.setting.maxValue,t)<=0&&(t=new Date(a.setting.maxValue),e=!0);do{if(t=e?new Date(t.getTime()-$.AnyPicker.extra.iMS.d):new Date(t.getTime()+$.AnyPicker.extra.iMS.d),a.__validateSelectedDate(t,!0,!1)&&(!$.CF.isValid(a.setting.minValue)||$.CF.isValid(a.setting.minValue)&&a.compareDates(a.setting.minValue,t)<=0)&&(!$.CF.isValid(a.setting.maxValue)||$.CF.isValid(a.setting.maxValue)&&a.compareDates(a.setting.maxValue,t)>=0))return t}while((!$.CF.isValid(a.setting.minValue)||$.CF.isValid(a.setting.minValue)&&a.compareDates(a.setting.minValue,t)<=0)&&(!$.CF.isValid(a.setting.maxValue)||$.CF.isValid(a.setting.maxValue)&&a.compareDates(a.setting.maxValue,t)>=0))}else if("time"===i){$.CF.isValid(a.setting.minValue)&&a.compareTimes(a.setting.minValue,t)>=0&&(t=new Date(a.setting.minValue),e=!1),$.CF.isValid(a.setting.maxValue)&&a.compareTimes(a.setting.maxValue,t)<=0&&(t=new Date(a.setting.maxValue),e=!0);do{if(t=e?new Date(t.getTime()-$.AnyPicker.extra.iMS.m*a.setting.intervals.m):new Date(t.getTime()+$.AnyPicker.extra.iMS.m*a.setting.intervals.m),a.__validateSelectedDate(t,!0,!1)&&(!$.CF.isValid(a.setting.minValue)||$.CF.isValid(a.setting.minValue)&&a.compareTimes(a.setting.minValue,t)<=0)&&(!$.CF.isValid(a.setting.maxValue)||$.CF.isValid(a.setting.maxValue)&&a.compareTimes(a.setting.maxValue,t)>=0))return t}while((!$.CF.isValid(a.setting.minValue)||$.CF.isValid(a.setting.minValue)&&a.compareTimes(a.setting.minValue,t)<=0)&&(!$.CF.isValid(a.setting.maxValue)||$.CF.isValid(a.setting.maxValue)&&a.compareTimes(a.setting.maxValue,t)>=0))}else if("datetime"===i){$.CF.isValid(a.setting.minValue)&&a.compareDateTimes(a.setting.minValue,t)>=0&&(t=new Date(a.setting.minValue),e=!1),$.CF.isValid(a.setting.maxValue)&&a.compareDateTimes(a.setting.maxValue,t)<=0&&(t=new Date(a.setting.maxValue),e=!0);do{if(t=e?new Date(t.getTime()-$.AnyPicker.extra.iMS.m*a.setting.intervals.m):new Date(t.getTime()+$.AnyPicker.extra.iMS.m*a.setting.intervals.m),a.__validateSelectedDate(t,!0,!1)&&(!$.CF.isValid(a.setting.minValue)||$.CF.isValid(a.setting.minValue)&&a.compareDateTimes(a.setting.minValue,t)<=0)&&(!$.CF.isValid(a.setting.maxValue)||$.CF.isValid(a.setting.maxValue)&&a.compareDateTimes(a.setting.maxValue,t)>=0))return t}while((!$.CF.isValid(a.setting.minValue)||$.CF.isValid(a.setting.minValue)&&a.compareDateTimes(a.setting.minValue,t)<=0)&&(!$.CF.isValid(a.setting.maxValue)||$.CF.isValid(a.setting.maxValue)&&a.compareDateTimes(a.setting.maxValue,t)>=0))}if($.CF.isValid(a.setting.minValue))return a.setting.minValue},__setDaysOfMonthInDatePicker:function(){var e,t,i=null;for(e=0;e<this.tmp.numOfComp;e++)"date"===(t=this.setting.components[e]).name&&(i=t.component,t.format);if(null!==i){var a=this.getDateObject(this.tmp.selectedDate),n=this._getNumberOfDaysOfMonth(a.M,a.y),o=!1;for(e=n+1;e<=31;e++){var s=$("#ap-component-"+i).find("#ap-row-"+i+"-"+(e-1));s.addClass("ap-row-disabled ap-row-hidden"),o||(o="true"===s.attr("aria-selected"))}if(o){var r=new Date(a.y,a.M,n,a.H,a.m,a.s,a.ms);this.__validateSelectedDate(r,!1,!0),this.__scrollToSelectedRow()}}},setDateInFormat:function(e,t){var i;return void 0===e.date&&void 0===e.iDate&&(e.date=this._getCurrentDate()),void 0===e.iDate?e.iDate={d:e.date.getDate(),M:e.date.getMonth(),y:e.date.getFullYear(),H:e.date.getHours(),m:e.date.getMinutes(),s:e.date.getSeconds(),ms:e.date.getMilliseconds()}:e.iDate={d:void 0!==e.iDate.d?e.iDate.d:1,M:void 0!==e.iDate.M?e.iDate.M:$.AnyPicker.extra.dToday.getMonth(),y:void 0!==e.iDate.y?e.iDate.y:$.AnyPicker.extra.dToday.getFullYear(),H:void 0!==e.iDate.H?e.iDate.H:0,m:void 0!==e.iDate.m?e.iDate.m:0,s:void 0!==e.iDate.s?e.iDate.s:0,ms:void 0!==e.iDate.ms?e.iDate.ms:0},$.CF.isValid(t)?"START"===t?i=new Date(e.iDate.y,e.iDate.M,e.iDate.d,0,0,0,0):"END"===t&&(i=new Date(e.iDate.y,e.iDate.M,e.iDate.d,23,59,59,999)):i=new Date(e.iDate.y,e.iDate.M,e.iDate.d,e.iDate.H,e.iDate.m,e.iDate.s,e.iDate.ms),i},_getCurrentDate:function(){return this.getDateByAddingOutputTZOffset(this.convertToUTC(new Date),this.setting.tzOffset)},convertToUTC:function(e,t){return new Date(e.getTime()-(void 0===t||""===t||null===t?-e.getTimezoneOffset()*$.AnyPicker.extra.iMS.m:this._getTZOffsetInMS(t)))},_getTZOffsetInMS:function(e){var t=0;if(void 0===e||""===e||null===e)t=-$.AnyPicker.extra.dToday.getTimezoneOffset()*$.AnyPicker.extra.iMS.m;else{var i=this._matchRegex(/^([+|-]{1})([0-1]{0,1}[0-9]{1}):([0-6]{0,1}[0-9]{1})$/,e);t=parseInt(i[2])*$.AnyPicker.extra.iMS.h+parseInt(i[3])*$.AnyPicker.extra.iMS.m,t="+"===i[1]?t:-t}return t},getDateByAddingOutputTZOffset:function(e,t){return new Date(e.getTime()+this._getTZOffsetInMS(t))},normalizeDateTimeWithOffset:function(e,t,i){return this.getDateByAddingOutputTZOffset(this.convertToUTC(e,t),i)},_getNumberOfDaysOfMonth:function(e,t){return t%4==0?[31,29,31,30,31,30,31,31,30,31,30,31][e]:[31,28,31,30,31,30,31,31,30,31,30,31][e]},_normalizeDateTime:function(e,t,i){var a,n={d:e.getDate(),M:e.getMonth(),y:e.getFullYear(),H:e.getHours(),m:e.getMinutes(),s:e.getSeconds()};switch(i){case"s":"START"===t?a=new Date(n.y,n.M,n.d,n.H,n.m,0,0):"END"===t&&(a=new Date(n.y,n.M,n.d,n.H,n.m,59,999));break;case"m":"START"===t?a=new Date(n.y,n.M,n.d,n.H,0,0,0):"END"===t&&(a=new Date(n.y,n.M,n.d,n.H,59,59,999));break;case"h":case"T":"START"===t?a=new Date(n.y,n.M,n.d,0,0,0,0):"END"===t&&(a=new Date(n.y,n.M,n.d,23,59,59,999));break;case"d":case"dE":"START"===t?a=new Date(n.y,n.M,1,0,0,0,0):"END"===t&&(a=new Date(n.y,n.M,this._getNumberOfDaysOfMonth(n.M,n.y),0,0,0,0));break;case"M":case"ME":case"y":case"yE":"START"===t?a=new Date(n.y,0,1,0,0,0,0):"END"===t&&(a=new Date(n.y,11,this._getNumberOfDaysOfMonth(11,n.y),0,0,0,0))}return"dE"!==i&&"ME"!==i&&"yE"!==i||(a=this._normalizeDateTime(a,"END","T")),a},_getDifference:function(e,t,i){var a,n=t.getTime()-i.getTime();return"ms"===e?a=n:"s"===e?a=n/$.AnyPicker.extra.iMS.s:"m"===e?a=n/$.AnyPicker.extra.iMS.m:"h"===e?a=n/$.AnyPicker.extra.iMS.h:"d"===e?a=n/$.AnyPicker.extra.iMS.d:"M"===e?a=n/$.AnyPicker.extra.iMS.m:"y"===e&&(a=n/$.AnyPicker.extra.iMS.y),a},compareDates:function(e,t){e=this._normalizeDateTime(e,"START","T"),t=this._normalizeDateTime(t,"START","T");var i=this._getDifference("d",e,t);return 0===i?i:i/Math.abs(i)},compareDateTimes:function(e,t){var i=this._getDifference("m",e,t);return 0===i?i:i/Math.abs(i)},compareTimes:function(e,t){var i=new Date($.AnyPicker.extra.dToday),a=new Date($.AnyPicker.extra.dToday);return i.setHours(e.getHours()),i.setMinutes(e.getMinutes()),i.setSeconds(e.getSeconds()),a.setHours(t.getHours()),a.setMinutes(t.getMinutes()),a.setSeconds(t.getSeconds()),this.compareDateTimes(i,a)},getNumberStringInFormat:function(e,t,i){var a,n="",o=e.toString(),s=o.length;if(0!==t)for(a=0;a<t-s;a++)n+=i?this.setting.i18n.numbers[0]:"0";if(i)for(a=0;a<s;a++)n+=this.setting.i18n.numbers[parseInt(o.charAt(a))];else n+=o;return n},getDateObject:function(e){var t={D:e.getDay(),d:e.getDate(),M:e.getMonth(),y:e.getFullYear(),H:e.getHours(),m:e.getMinutes(),s:e.getSeconds(),ms:e.getMilliseconds()};return t.h=t.H>12?t.H-12:0===t.H?12:t.H,t.me=t.H<12?"am":"pm",t.sm=t.H<12?"a":"p",t}})}();